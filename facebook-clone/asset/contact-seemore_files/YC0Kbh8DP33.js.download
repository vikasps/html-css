if (self.CavalryLogger) { CavalryLogger.start_js(["BsQcU"]); }

__d("CometUFIShareActionLinkMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3747582985349546",metadata:{},name:"CometUFIShareActionLinkMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIShareActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareActionLink_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_reshare_warning",storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareActionLink_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareActionLink_shareable",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_shareable"},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenuRelay3D_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometUFIShareActionLink_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIShareActionLink_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenu_story"},{args:null,kind:"FragmentSpread",name:"CometUFIShareActionLinkMenuRelay3D_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometUFIShareActionLinkMenu.entrypoint",["CometUFIShareActionLinkMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){var c=a.disableMessenger,d=a.storyUrl;a=a.url;return{extraProps:{disableMessenger:c},queries:{shareMenuQueryReference:{parameters:b("CometUFIShareActionLinkMenuQuery$Parameters"),variables:{hasParentStory:d!=null,shareableParams:{url:a},storyParams:{url:d}}}}}},root:b("JSResourceForInteraction")("CometUFIShareActionLinkMenu.react").__setRef("CometUFIShareActionLinkMenu.entrypoint")};e.exports=a}),null);
__d("CometUFIShareActionLink.react",["fbt","ix","CometEntryPointPopoverTrigger.react","CometRelay","CometTrackingNodeProvider.react","CometUFIActionButton.react","CometUFIShareActionLinkMenu.entrypoint","CometUFIShareActionLinkMenuRelay3D.entrypoint","CometUFIShareActionLink_feedback.graphql","CometUFIShareActionLink_shareable.graphql","CometUFIShareActionLink_story.graphql","ReshareWarningCometDialog.entrypoint","cometGetKeyCommandConfig","cr:1761713","fbicon","gkx","react","requireDeferred","useCometEntryPointDialog","useKeyCommands","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k,l,m=l||b("react"),n=b("requireDeferred")("ShareMetricsLoggingController"),o=b("gkx")("1871381"),p=o?b("CometUFIShareActionLinkMenuRelay3D.entrypoint"):b("CometUFIShareActionLinkMenu.entrypoint");function q(a){var c=a.onShow;a=m.useMemo(function(){return[b("cometGetKeyCommandConfig")("newsfeed","shareStory",c)]},[c]);b("useKeyCommands")(a,!0);return null}var r=function(){return o?"comet.ufi.share_menu_3D":"comet.ufi.share_menu"},s=m.forwardRef(function(a,c){var d=a.reshareWarningRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["reshareWarningRef"]);return m.jsx(b("CometUFIActionButton.react"),babelHelpers["extends"]({},a,{ref:b("useMergeRefs")(d,c)}))});function a(a){var c=a.expanding,d=a.feedback,e=a.feedLocation,f=a.filled,l=a.hideLabel,o=a.shareable,t=a.size;a=a.story;var u=m.useRef(!1),v=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFIShareActionLink_shareable.graphql"),o);o=b("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIShareActionLink_feedback.graphql"),d);d=b("CometRelay").useFragment(k!==void 0?k:k=b("CometUFIShareActionLink_story.graphql"),a);a=b("useCometEntryPointDialog")(b("ReshareWarningCometDialog.entrypoint"),{feedbackID:(a=o==null?void 0:o.id)!=null?a:""});var w=a[0],x=a[1],y=m.useCallback(function(a){w({},function(b){b&&a()})},[w]),z=(o==null?void 0:o.should_show_reshare_warning)===!0;a=v.url;o=function(a){u.current&&!a?n.onReady(function(a){a.logShareFlowAbandoned(v.id,(a=e)!=null?a:void 0)}):!u.current&&a&&n.onReady(function(a){a.logShareFlowStarted(v.id,(a=e)!=null?a:void 0)}),u.current=a};if(a==null)return null;var A=r(),B=f===!0?b("fbicon")._(h("484395"),18):b("fbicon")._(h("484399"),18);return m.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:17,children:m.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"middle",entryPointParams:{storyUrl:d==null?void 0:d.url,url:a},onVisibilityChange:o,otherProps:{feedLocation:e,parentStory:d,shareable:v},popoverEntryPoint:p,preloadTrigger:"button",tracePolicy:A,children:function(a,d,e,f,h,i){return m.jsxs(m.Fragment,{children:[m.jsx(q,{onShow:d}),m.jsx(s,{expanding:c,hideLabel:l,icon:B,label:b("cr:1761713"),onHoverIn:f,onHoverOut:h,onPress:z?function(){return y(d)}:d,onPressIn:i,ref:a,reshareWarningRef:x,size:t,testid:void 0,children:g._("Share")})]})}})})}}),null);
__d("CometUFIShareActionLinkLabel",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Send this to friends or post it on your Timeline.");b=a;e.exports=b}),null);