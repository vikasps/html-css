if (self.CavalryLogger) { CavalryLogger.start_js(["U\/BWT"]); }

__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";f.getActivityState=a;f.subscribe=c;var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return c(a)},null,[],{name:"CometUserActivityMonitor"})};while(l.length)c();j=!1}function o(){if(b("gkx")("1345328"))return;var a=Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()));b("clearTimeout")(i);a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}function a(){return k}d=function(){m==null&&(o(),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o()}),function(){var a=function(){p("INACTIVE"),b("clearTimeout")(i)};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))};f.init=d;function c(a){h.push(a);j&&l.push(a);var c=!1;return{remove:function(){if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}b("ExecutionEnvironment").canUseDOM&&d()}),null);
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f){"use strict";a={isUserActive:function(){return b("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var c=b("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){c&&c.remove()}}};e.exports=a}),null);
__d("MerlinUnifiedProtocolEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1886750");c=b("FalcoLoggerInternal").create("merlin_unified_protocol_event",a);e.exports=c}),null);
__d("FBMerlinImpressionManager",["$InternalEnum","MerlinUnifiedProtocolEventFalcoEvent","gkx"],(function(a,b,c,d,e,f){"use strict";var g="fb_unknown",h=new Set([78]),i=new Map([[78,"fb_search"],[0,"fb_newsfeed"]]),j=b("$InternalEnum").Mirrored(["Enter","Exit","Update"]),k={};function a(a){return a===0&&b("gkx")("1912400")||l(a)&&b("gkx")("1941784")?!0:!1}function l(a){return a==null?!1:h.has(a)}function c(a,b,c,d,e){a={itemId:c,status:j.Enter,time:a};m(a,d,e);a={itemId:c,status:j.Exit,time:b};m(a,d,e)}function m(a,b,c){var d=a.itemId,e=k[d];e==null&&(e={entries:[],itemId:d});k[d]=p(e,a);n(d)&&(o(d,b,c),delete k[d])}function n(a){if(k[a]==null)return!1;a=k[a].entries;if(a.length===0)return!1;a=a[a.length-1];return a.exit!==0}function o(a,c,d){if(k[a]==null)return;var e=k[a].entries.map(function(a){return{enter_ts:a.enter.toString(),exit_ts:a.exit.toString()}}),f=i.get(c);b("MerlinUnifiedProtocolEventFalcoEvent").log(function(){var b;return{element_visibility_absolute_ts:{min_visible_px:e},entity_id:a,origin:(b=f)!=null?b:g,payload:{placeholder_payload:(b=JSON.stringify(d))!=null?b:"{}"}}})}function p(a,b){var c={entries:[],itemId:b.itemId};switch(b.status){case j.Enter:c=q(a,b);break;case j.Exit:c=r(a,b);break;case j.Update:break}return c}function q(a,b){b={enter:b.time,exit:0};return babelHelpers["extends"]({},a,{entries:a.entries.concat(b)})}function r(a,b){var c=[].concat(a.entries),d=c[c.length-1];if(d==null)return a;if(d.enter!==0&&d.exit===0){d={enter:d.enter,exit:b.time};c[c.length-1]=d}return babelHelpers["extends"]({},a,{entries:c})}d={FBMerlinImpressionStatus:j,FBMerlinMergeVPVData:p,isMerlinVPVOnlySources:l,logWithEnterAndExitTimestamps:c,merlinShouldLog:a};e.exports=d}),null);
__d("useVPVDImpression",["CometVPVDUserActivityMonitor","cr:921407","isIntersectionObserverEntryVPVDVisible","react","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=250,j=200;function a(a){var c=a.isLite,d=a.minVisiblePx;d=d===void 0?j:d;var e=a.minVisibleTimeMs,f=e===void 0?i:e,g=a.onVPVDEnd;e=a.onVPVDStart;a=b("cr:921407")();var k=a[0];a=a[1];var l=h.useCallback(function(a){if(a.visibleDuration<f)return;g(a)},[f,g]),m=c===!0?1:d;d=h.useCallback(function(a){return b("isIntersectionObserverEntryVPVDVisible")(a,m)},[m]);c=c===!0?null:{thresholdOverride:"EXPENSIVE"};d=babelHelpers["extends"]({activityMonitorOverride:b("CometVPVDUserActivityMonitor"),isEntryInViewport:d},c);c=b("useVisibilityObserver")({onHidden:l,onVisibilityDurationUpdated:a,onVisible:e,options:d});return[c,k]}}),null);
__d("useViewabilityImpression",["useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=a.onIntersection;return b("useVisibilityObserver")({onIntersection:a,options:{thresholdOverride:"MODERATE"}})}}),null);
__d("CometFeedUnitStatusListPassiveContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext(null);e.exports=c}),null);
__d("useNoopDebuggingInfoComponent",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(){};function a(){return[null,g]}}),null);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1936086");c=b("FalcoLoggerInternal").create("comet_metrics_full_view",a);e.exports=c}),null);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","requireDeferred","useFullViewImpression","uuid"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("requireDeferred")("Banzai");function a(a,c,d,e){e===void 0&&(e=!1);var f=h.useRef(!1);d=h.useCallback(function(d){d.currentTime;if(!f.current&&a!=null){f.current=!0;var g=a,h=c,j=b("uuid")(),k={csp:h,event_trace_id:j,xt:g};e&&b("CometMetricsFullViewFalcoEvent").log(function(){return{csp:h.toString(),event_trace_id:j,xt:g}});i.onReady(function(a){a.post("comet_metrics:full_view",k)})}},[c,a]);return b("useFullViewImpression")({onFullViewStart:d})}}),null);
__d("WebVpvDurationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1837580");c=b("FalcoLoggerInternal").create("web_vpv_duration",a);e.exports=c}),null);
__d("useCometFeedUnitGapInfo",["CometFeedUnitStatusListPassiveContext","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=function(a){return a==="SPONSORED"||a==="ENGAGEMENT"||a==="FIXED_POSITION"||a==="PROMOTION"};function a(){var a=h.useRef(null),c=h.useContext(b("CometFeedUnitStatusListPassiveContext")),d=h.useCallback(function(a){var d;if(c==null)return null;if(a<0){b("recoverableViolation")("computeGapInfoForPosition called with invalid feed position "+a,"comet_feed");return null}var e=c();if(e[a]==null){b("recoverableViolation")("feed position "+a+" does not exist in getFeedUnitStatusListPassive (length:"+e.length+")","comet_feed");return null}d=(d=e[a])==null?void 0:d.category;if(!i(d))return null;var f=-1,g=-1,h=-1,j=-1;for(var k=a-1;k>=0;k--){var l,m=a-k;l=(l=e[k])==null?void 0:l.category;switch(l){case"ENGAGEMENT":f=f===-1?m:f;break;case"FIXED_POSITION":g=g===-1?m:g;break;case"PROMOTION":h=h===-1?m:h;break;case"SPONSORED":j=j===-1?m:j;break}if(f!==-1&&g!==-1&&h!==-1&&j!==-1)break}return{dist_to_engagement:f,dist_to_fixed:g,dist_to_promo:h,dist_to_sponsored:j,dist_to_top:a+1,story_category:d}},[c]),e=h.useCallback(function(b){var c=a.current;(b<0||c==null||c.dist_to_top!==b+1)&&(a.current=d(b));return a.current},[d]);return e}}),null);
__d("useStoryVPVDLogger",["CometInteractionSourceContext","CometNewsFeedVPVDStore","FBMerlinImpressionManager","Random","WebSession","WebVpvDurationFalcoEvent","gkx","react","requireDeferred","useCometFeedUnitGapInfo","useCurrentRoute","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("requireDeferred")("ODS"),j=function(a,c){var d;return babelHelpers["extends"]({csp:a.position,is_agg:a.isAggregated,is_self:a.isSelfPost,logged_before:a.loggedBefore,sid_raw:b("WebSession").getId(),source:a.source,source_override:a.source_override,story_height:a.story_height,story_width:a.story_width,vpvd_start_timestamp_ms:a.visibleTime,vpvd_time_delta_ms:a.hiddenTime-((d=a.visibleTime)!=null?d:0),xt:a.encrypted_tracking},c)},k=1e3;function a(a){var c=a.interactionSourceOverride,d=a.isAggregated,e=d===void 0?null:d;d=a.isSelfPost;var f=d===void 0?null:d,g=a.position,l=a.trackable,m=h.useContext(b("CometInteractionSourceContext")),n=b("useCometFeedUnitGapInfo")();d=b("useCurrentRoute")()||{};var o=d.tracePolicy,p=h.useContext(b("CometNewsFeedVPVDStore").LoggerContext),q=h.useRef(null),r=h.useRef(null),s=h.useRef(!1);a=h.useCallback(function(a){var b=a.entry;a=a.visibleTime;p(a);q.current=(a=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.height)!=null?a:null;r.current=(b=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.width)!=null?b:null},[p]);d=h.useCallback(function(a){var d,h,p=a.hiddenTime;a=a.visibleTime;d=(d=c)!=null?d:m;if(!b("FBMerlinImpressionManager").isMerlinVPVOnlySources(d)&&m===10){b("Random").coinflip(k)&&i.onReady(function(a){a.bumpEntityKey(3372,"comet.unknown_vpvd_tracepolicy",(a=o)!=null?a:"empty",k)});return}var t=q.current!=null?Math.round(q.current):null,u=r.current!=null?Math.round(r.current):null,v=n(g),w=j({encrypted_tracking:(h=l)!=null?h:"",hiddenTime:p,isAggregated:e,isSelfPost:f,loggedBefore:s.current,position:g,source:m,source_override:c,story_height:t,story_width:u,visibleTime:a},v);s.current=!0;b("FBMerlinImpressionManager").isMerlinVPVOnlySources(d)||b("WebVpvDurationFalcoEvent").log(function(){return{json_data:JSON.stringify(w)}});if(b("FBMerlinImpressionManager").merlinShouldLog(d)){b("FBMerlinImpressionManager").logWithEnterAndExitTimestamps(a,p,(h=l)!=null?h:"",d,w)}},[m,n,g,l,e,f,c,o]);return b("useVPVDImpression")({onVPVDEnd:d,onVPVDStart:a})}}),null);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1948176");c=b("FalcoLoggerInternal").create("comet_metrics_viewability",a);e.exports=c}),null);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","useViewabilityImpression","uuid"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function i(a,c,d){b("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:a.cumulative.toString(),duration:a.duration.toString(),event_trace_id:c,interval:a.interval.toString(),segment_id:a.segmentid.toString(),start_ts:a.startTs.toString(),view_event_type:a.eventType.toString(),xt:d}})}function a(a,c,d,e){e===void 0&&(e=!1);var f=h.useRef(null),g=h.useRef(null),j=h.useRef(null);c=h.useCallback(function(c){var d=c.entry;c=c.isElementVisible;var h=function(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}},k=function(c){if(c.segmentid>2)return;var d=b("uuid")(),f={cumulative:c.cumulative,duration:c.duration,event_trace_id:d,eventType:c.eventType,interval:c.interval,segmentid:c.segmentid,startTs:c.startTs,xt:a};e&&i(c,d,a);c=babelHelpers["extends"]({},b("Banzai").VITAL,{signal:!1});b("Banzai").post("comet_metrics:viewability",f,c)},l=function(a,b,c){if(c==null)return null;b=h(a,c);k(b);return null},m=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=h(a,c);k(b);return b};!c?(f.current=l(d.time,b("PercentVisible").VISIBLE_0_PCT,f.current),g.current=l(d.time,b("PercentVisible").VISIBLE_50_PCT,g.current),j.current=l(d.time,b("PercentVisible").VISIBLE_100_PCT,j.current)):d.intersectionRatio<.5?(f.current=m(d.time,b("PercentVisible").VISIBLE_0_PCT,f.current),g.current=l(d.time,b("PercentVisible").VISIBLE_50_PCT,g.current),j.current=l(d.time,b("PercentVisible").VISIBLE_100_PCT,j.current)):d.intersectionRatio>=.5&&d.intersectionRatio<1?(f.current=m(d.time,b("PercentVisible").VISIBLE_0_PCT,f.current),g.current=m(d.time,b("PercentVisible").VISIBLE_50_PCT,g.current),j.current=l(d.time,b("PercentVisible").VISIBLE_100_PCT,j.current)):(f.current=m(d.time,b("PercentVisible").VISIBLE_0_PCT,f.current),g.current=m(d.time,b("PercentVisible").VISIBLE_50_PCT,g.current),j.current=m(d.time,b("PercentVisible").VISIBLE_100_PCT,j.current))},[a]);return b("useViewabilityImpression")({onIntersection:c})}}),null);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1955947");c=b("FalcoLoggerInternal").create("ghl_swank",a);e.exports=c}),null);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","mergeRefs","react","useCometGHLDisplayMonitor"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.encryptedToken,d=a.position,e=h.useRef(!1);a=h.useCallback(function(a){if(e.current||c==null)return;e.current=!0;b("GhlSwankFalcoEvent").log(function(){return{hd:String(a),sli:String(d),xt:c}});var g=f.current;if(g!==null){b("CometGHLTracker").m(g);b("cr:1088657")&&b("cr:1088657").b({e:g,hd:a,token:(g=c)!=null?g:""})}},[c,d]);var f=b("useCometGHLDisplayMonitor")(!e.current,a);h.useEffect(function(){var a=f.current;return function(){a&&b("CometGHLTracker").d(a)}},[f]);a=h.useCallback(function(a){b("DebugOwl").nest(a,{location:"FEED",position:d})},[d]);return b("mergeRefs")(f,a)}c=a;e.exports=c}),null);
__d("useStoryObserverImpressionLoggerExperimental",["CometGHLTracker","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","WebSession","cr:1095633","ghlTestUBT","gkx","randomInt","react","requireDeferred","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","usePartialViewImpression","uuid"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("requireDeferred")("Banzai"),j={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},k=5e3;function a(a,c,d,e,f,g){e===void 0&&(e=!1);f===void 0&&(f=null);g===void 0&&(g=!1);var l=babelHelpers["extends"]({},j,d),m=h.useRef(null),n=h.useRef(null),o=h.useRef(null),p=h.useRef(!1),q=h.useRef(!1);h.useEffect(function(){b("ghlTestUBT")(function(a){p.current=a})},[]);h.useEffect(function(){return function(){m.current=null,q.current=!1,o.current=null}},[f]);function r(a){i.onReady(function(b){var c=(d==null?void 0:d.use_banzai_vital_imp)===!0,e=(d==null?void 0:d.use_banzai_signal_imp)===!0;c=c?babelHelpers["extends"]({},b.VITAL,{signal:e}):{signal:e};b.post("comet_metrics:viewable_imp",a,c)})}f=h.useCallback(function(d){var f=d.entry;d=d.visibleTime;b("DebugOwl").perch(f.target);var h=function(d,e){e=Date.now();var f=b("CometTimeSpentNavigation").getPathInfo(),h=b("CometGHLTracker").c(d.target);b("DebugOwl").fly(d.target);var i=c,j=Math.floor(e/1e3),k=e+"_"+(b("randomInt")(0,4294967295)+1),l=h,m=f?f.name:null,n=b("WebSession").getId(),o=d.visiblePercentage,p=a,s=b("uuid")();g&&b("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{csp:i.toString(),cts:j.toString(),etid:k,event_trace_id:s,hba:l,isv:"1",me:m,sk:n,vp:o.toString(),xt:p}});e={csp:i,cts:j,etid:k,event_trace_id:s,hba:l,isv:1,me:m,sk:n,vp:o,xt:p};r(e);q.current=!0;b("cr:1095633")&&a!=null&&b("cr:1095633")("impression_api_comet_enter","LOG",a)},i={boundingClientRect:f.boundingClientRect,impressedAt:d,intersectionRect:f.intersectionRect,invisibleReason:null,rootBounds:f.rootBounds,status:"ENTER",target:f.target,visible:!0,visiblePercentage:f.intersectionRatio};e&&b("sendImpressionEnterActionValidationData")("impression_api_comet_enter",i,null,{csp:c,pre_rs:m.current,xt:a});b("cr:1095633")&&a!=null&&b("cr:1095633")("impression_api_comet_enter","ENTER",a);if(o.current||n.current)return;if(l.can_delay_log_impression===!0&&(p.current||b("CometGHLTracker").b()||b("gkx")("986925"))){d=k;n.current=b("setTimeout")(function(){h&&h(i,"AD_BLOCKER"),n.current=null},d)}else h&&h(i,q.current?"DEDUP":"ORIGINAL")},[e,l.can_delay_log_impression,c,a]);var s=h.useCallback(function(d){var f=d.hiddenReason,g=d.visibleDuration;d=d.visibleTime;e&&b("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:d,invisibleReason:f,visiblePercentage:0},null,{csp:c,duration:g,pre_rs:m.current,xt:a});b("cr:1095633")&&a!=null&&b("cr:1095633")("impression_api_comet_enter","EXIT",a);m.current=f;if(o.current)return;(q.current||n.current)&&(o.current=b("setTimeout")(function(){q.current=!1,o.current=null},l.subsequent_gap_in_ms))},[l.subsequent_gap_in_ms,c,a,e]);return b("usePartialViewImpression")({onImpressionEnd:s,onImpressionStart:f})}}),null);
__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){"use strict";f.initImpressionRecord=a;f.calcNextObservedRecord=c;f.calcExitRecordOnPushViewHidden=d;f.calcExitRecordOnUnmount=e;f.calcExitRecordOnViewportHidden=h;function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function c(a,c){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!b("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":b("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":b("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=c.visible,i=c.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):c.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function g(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return g(a,"PUSH_VIEW_HIDDEN")}function e(a){return g(a,"COMPONENT_UNMOUNTED")}function h(a){return g(a,"PAGE_VISIBILITY_HIDDEN")}}),null);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}}),null);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){d===void 0&&(d={bottom:0,left:0,right:0,top:0});try{if(!a||!c||!document.elementFromPoint)return!1;var e=b("getViewportDimensions")();if(e.height===0||e.width===0)return!1;var f=c.x,g=c.y,h=c.width;c=c.height;h=Math.min(f+h,e.width-1);c=Math.min(g+c,e.height-1);e=[{x:f,y:g},{x:f,y:c},{x:h,y:g},{x:h,y:c},{x:(f+h)/2,y:(g+c)/2}];d.top!==0&&d.top>g&&d.top<c&&e.push({x:(f+h)/2,y:(d.top+c)/2});return e.every(function(c){c=document.elementFromPoint(c.x,c.y);c=!!c&&!b("containsNode")(c,a)&&!b("containsNode")(a,c);return c})}catch(a){return!1}}}),null);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","isImpressionTargetOccluded"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g={bottom:0,left:0,right:0,top:0};function h(a){if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(b("getStyleProperty")(a,"position")==="absolute"&&b("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,c,d){d===void 0&&(d={});var e=b("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},b("getViewportDimensions")()),i=b("calculateImpressionViewablePercentage")(e,f,g),j=!1;if(i.visiblePercentage>0){var k=h(a);k!=null&&i.intersectionRect!=null&&(j=!0,i=b("calculateImpressionViewablePercentage")(i.intersectionRect,b("getElementPosition")(k),g))}k=d;k=k.viewportMargin;j=k&&!j?b("calculateImpressionViewablePercentage")(e,f,k):i;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);i=i;var l=i.intersectionRect;i=i.visiblePercentage;var m=null,n=!1;i<=0?m="NOT_IN_VIEWPORT":l&&b("isImpressionTargetOccluded")(a,l,k||g)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":b("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":b("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":b("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;i=n===!1?0:j.visiblePercentage;l=c.visible;k=c.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):c.visiblePercentage!==i&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:i},f)}}),null);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","gkx","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;a=function(){function a(a,c,d,e){var f=this;d===void 0&&(d=null);e===void 0&&(e={});this.THROTTLE_TIMEOUT=g;this.takeSnapshot=b("CometThrottle")(function(){if(f.$3==null||f.$8===!0)return;var a=b("calcNextImpressionSnapshotRecord")(f.$3,f.$2,f.$7);f.$9(a)},this.THROTTLE_TIMEOUT);this.takeSnapshotWithDoubleRaf=b("CometThrottle")(function(){if(f.$3==null||f.$8===!0)return;if(b("gkx")("1275922"))window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){var a=b("calcNextImpressionSnapshotRecord")(f.$3,f.$2,f.$7);f.$9(a)})});else{var a=b("calcNextImpressionSnapshotRecord")(f.$3,f.$2,f.$7);f.$9(a)}},this.THROTTLE_TIMEOUT);this.$5=d;this.$2=b("CentralImpressionRecord").initImpressionRecord(a);this.$1=c;this.$3=a;this.$7=e;this.$8=!1;b("setTimeout")(this.takeSnapshotWithDoubleRaf,0);document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[b("Visibility").addListener(b("Visibility").HIDDEN,this.takeSnapshot),b("Visibility").addListener(b("Visibility").VISIBLE,this.takeSnapshot)]}var c=a.prototype;c.getOptionalUniqueID=function(){return this.$5};c.peek=function(){return this.$2};c.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};c.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};c.unmount=function(){var a=b("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);a!=null&&this.$9(a);this.remove()};c.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};c.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();e.exports=a}),null);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useRef(null),e=h.useRef(null),f=h.useContext(b("BaseViewportMarginsContext")),g=h.useRef(null),i=h.useContext(b("HiddenSubtreePassiveContext")),j=h.useCallback(function(c){if(d.current==null)return;if(e.current==null||c!=null&&e.current.getOptionalUniqueID()!==c){var h=!1;e.current!=null&&(e.current.unmount(),e.current=null,h=!0);e.current=new(b("CentralImpressionScrollBasedTracker"))(d.current,a,c,{isAdRefresh:h,isCometHiddenSubtree:i.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});g.current!=null&&(g.current.remove(),g.current=null);g.current=i.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:i.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[i,a,f]),k=h.useCallback(function(a){d.current!==a&&a!=null&&(d.current=a,j(c))},[j,c]);h.useEffect(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);h.useEffect(function(){j(c)},[j,c]);return k}}),null);
__d("useStoryScrollBasedImpression2ndChannel",["cr:1094190","cr:1095633","react","sendImpressionEnterActionValidationData","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c,d){d=h.useCallback(function(d,e,f){if(a==null)return;d.status==="ENTER"?b("sendImpressionEnterActionValidationData")("scroll_comet",d,f,{csp:c,xt:a}):d.status==="EXIT"&&b("cr:1094190")&&b("cr:1094190")("scroll_comet_exit",d,f,{csp:c,xt:a});b("cr:1095633")&&(d.status==="ENTER"||d.status==="EXIT")&&b("cr:1095633")("scroll_comet",d.status,a)},[a,c]);return b("useScrollBasedImpressionTracker")(d)}}),null);
__d("useStoryViewabilityLogger",["cr:942252","gkx","mergeRefs","react","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLoggerExperimental","useStoryScrollBasedImpression2ndChannel","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("gkx")("1900908"),j=b("gkx")("1944233"),k=b("gkx")("1948218");function a(a){var c=a.clientViewConfig;c=c===void 0?null:c;var d=a.contentIdentifier;d=d===void 0?null:d;var e=a.disabledViewabilityEventTypes,f=a.encryptedTracking,g=a.position,l=a.viewabilityConfig;a=a.vpvdOptionalData;var m=[];function n(a,b){return l&&l.includes(a)&&(!e||!e.includes(a))?b:null}var o=!!l&&l.some(function(a){return a===7}),p=n(8,b("useStoryObserverImpressionLoggerExperimental")(f,g,c,o,d,i)),q=n(7,b("useStoryScrollBasedImpression2ndChannel")(f,g,c)),r=n(2,b("useStoryFullViewLogger")(f,g,c,j)),s=n(3,b("useStoryViewabilityDurationLogger")(f,g,c,k));o=b("useStoryVPVDLogger")(babelHelpers["extends"]({},a,{position:g,trackable:f}));d=o[0];a=o[1];m.push(a);var t=n(5,d),u=b("useCometGHLFeedSurvey")({clientViewConfig:c,encryptedToken:f,position:g}),v=b("cr:942252")?n(6,b("cr:942252")(f)):null;o=h.useMemo(function(){return b("mergeRefs")(p,q,r,s,t,u,v)},[p,q,r,s,t,u,v]);return{debuggingInfoLoggers:m.map(function(a,b){return h.jsx("div",{children:a},b)}),ref:o}}}),null);
__d("useThrottledComet",["CometThrottle","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){c===void 0&&(c=100);var d=h.useRef(a);b("useLayoutEffect_SAFE_FOR_SSR")(function(){d.current=a},[a]);var e=h.useMemo(function(){return b("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},c)},[c]);h.useEffect(function(){e.cancel()},[]);return e}}),null);
__d("useInnerMostTrackingCode",["CometTrackingCodeContext","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=h.useContext(b("CometTrackingCodeContext")),c={click_tracking_linkshim_cb:[],encrypted_click_tracking:[],encrypted_tracking:[]};for(var d in a){var e=a[d],f=e.length;c[d]=f>0?[e[f-1]]:[]}return c}}),null);
__d("CometCompatPrimerDialog.react",["CometCompatModalDialogResource","CometLazyDialogTrigger.react","FBLogger","mergeRefs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=a.Component;a=a.props;var e=a.ajaxify,f=a.href,g=a.onClick,i=a.rel,j=babelHelpers.objectWithoutPropertiesLoose(a,["ajaxify","href","onClick","rel"]);e=(e=e)!=null?e:f;if(i==null||e==null){b("FBLogger")("ufi2").mustfix("CometPrimer called with null props for rel or ajaxify, this is an issue only present on Comet and should be investigated");return h.jsx(d,babelHelpers["extends"]({},a))}return h.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{params:{rel:String(i),uri:String(e)}},dialogResource:b("CometCompatModalDialogResource"),children:function(a,e){return h.jsx(d,babelHelpers["extends"]({},j,{href:f!=null?"#":void 0,onClick:function(b){g&&g(b),a()},ref:b("mergeRefs")(c,e)}))}})}c=h.forwardRef(a);e.exports=c}),null);
__d("CometVideoHomeLiveUFIContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({renderConfig:"default"});e.exports=c}),null);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1708227")}),null);
__d("UFI2ActionLink.react",["cx","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.children,d=a.linkClassName,e=a.enabled;e=e===void 0?!0:e;var f=a.floating;f=f===void 0?!1:f;a=a.showIcon;a=a===void 0?!0:a;return i.jsx("span",{className:(f===!0?"_8y72":"")+" _18vi",children:c({className:b("joinClasses")((e?"":"_6dc1")+" _18vj"+(a?" _18vk":""),d)})})}c=a;e.exports=c}),null);
__d("useThrottled",["useThrottledImpl"],(function(a,b,c,d,e,f){"use strict";e.exports=b("useThrottledImpl")}),null);