if (self.CavalryLogger) { CavalryLogger.start_js(["ug\/EY"]); }

__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer$normalization",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedTranslationMenuTrigger_story"}],storageKey:null}],type:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer$normalization",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_truncation_line_limit",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedTranslationMenuTrigger_story"}],storageKey:null}],type:"CometFeedStoryTranslatedMessageContainerRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("CometFeedTranslationMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2730690726975175",metadata:{},name:"CometFeedTranslationMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedTranslationMenuTrigger_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedMessageQuote.react",["TetraText.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={blockquote:{borderStartColor:"h2mp5456",borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginBottom:"sej5wr8e",marginTop:"aahdfvyu",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"},withLeadingSpace:{marginStart:"dhix69tm"}};function a(a){var c=a.children,d=a.leadingSpace;d=d===void 0?!0:d;a=a.xstyle;return i.jsx("blockquote",{className:(h||(h=b("stylex")))(j.blockquote,d&&j.withLeadingSpace,a),children:i.jsx(b("TetraText.react"),{type:"body3",children:c})})}}),null);
__d("CometFeedGearActionIcon.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j={gearIcon:{verticalAlign:"sf5mxxl7"}};function a(a){return i.jsx(b("CometTintedIcon.react"),{color:"fds-blue-60",icon:b("fbicon")._(g("497565"),12),xstyle:j.gearIcon})}}),null);
__d("CometFeedTranslationActionButton.react",["CometPressable.react","CometTrackingNodeProvider.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={linkHoverUnderline:{":hover":{textDecoration:"gpro0wi8"}}};function a(a,c){return h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:h.jsx(b("CometPressable.react"),{"aria-label":a.label,display:"inline",onPress:a.onPress,overlayDisabled:!0,ref:c,xstyle:i.linkHoverUnderline,children:a.children})})}c=h.forwardRef(a);e.exports=c}),null);
__d("CometFeedTranslationActions.react",["CometMiddot.react","CometTrackingNodeProvider.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.actionElements;var c=[];for(var d=0;d<a.length;d++){d!==0&&c.push(h.jsx(b("CometMiddot.react"),{},"middot-"+d));var e=a[d];c.push(e)}return h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:h.jsx(b("TetraTextPairing.react"),{level:4,meta:c,metaColor:"highlight"})})}}),null);
__d("CometFeedTranslationMenu.entrypoint",["CometFeedTranslationMenuQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){return{queries:{menuQueryReference:{parameters:b("CometFeedTranslationMenuQuery$Parameters"),variables:{storyId:a.storyId}}}}},root:b("JSResourceForInteraction")("CometFeedTranslationMenu.react").__setRef("CometFeedTranslationMenu.entrypoint")};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger.react",["CometEntryPointPopoverTrigger.react","CometFeedTranslationActionButton.react","CometFeedTranslationMenu.entrypoint","CometFeedTranslationMenuTrigger_story.graphql","CometRelay","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometFeedTranslationMenuTrigger_story.graphql"),a.story);c=c.id;var d=i.useState(0),e=d[0];d=d[1];var f=i.useCallback(function(c,d){return i.jsx(b("CometFeedTranslationActionButton.react"),{label:a.label,onPress:d,ref:c,children:a.children})},[a.children,a.label]);return c==null?b("recoverableViolation")("Cannot render CometFeedTranslationMenuTrigger with a null story id","comet_feed"):i.jsx(b("CometEntryPointPopoverTrigger.react"),{entryPointParams:{storyId:c},otherProps:{translationRating:e,updateTranslationRating:d},popoverEntryPoint:b("CometFeedTranslationMenu.entrypoint"),children:f})}}),null);
__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy.react",["fbt","CometFeedGearActionIcon.react","CometFeedMessageQuote.react","CometFeedMessageTextWithEntities.react","CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql","CometFeedTranslationActionButton.react","CometFeedTranslationActions.react","CometFeedTranslationMenuTrigger.react","CometFeedUnitQueryVariablesContext","CometRelay","TetraTextPairing.react","react","unrecoverableViolation","useCometFeedStoryMatchDebugger"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k={textOnlyQuote:{marginBottom:"tvmbv18p"},textOnlyQuoteWithOriginal:{marginBottom:"tvmbv18p",marginTop:"tr9rh885"}};function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql"),a.messageContainer),d=c.story;b("useCometFeedStoryMatchDebugger")(c);var e=d==null?void 0:(c=d.translation)==null?void 0:c.message;c=j.useState(!1);var f=c[0],i=c[1],l=j.useCallback(function(){i(function(a){return!a})},[]),m=j.useContext(b("CometFeedUnitQueryVariablesContext"));c=j.useMemo(function(){if(e!=null&&d!=null){var a=[j.jsx(b("CometFeedTranslationMenuTrigger.react"),{label:g._("Translation preferences"),story:d,children:j.jsx(b("CometFeedGearActionIcon.react"),{})},"settings-gear"),j.jsx(b("CometFeedTranslationActionButton.react"),{onPress:l,children:f?g._("Hide Original"):g._("See original")},"toggle"),j.jsx(b("CometFeedTranslationMenuTrigger.react"),{story:d,children:g._("Rate this translation")},"rating-menu")],c=(d==null?void 0:d.is_text_only_story)===!0?f?k.textOnlyQuoteWithOriginal:k.textOnlyQuote:void 0;return j.jsxs(b("CometFeedMessageQuote.react"),{xstyle:c,children:[j.jsx(b("TetraTextPairing.react"),{body:j.jsx(b("CometFeedMessageTextWithEntities.react"),{maxLines:d==null?void 0:d.message_truncation_line_limit,textWithEntities:e,truncationStyle:(m==null?void 0:m.feedLocation)==="PERMALINK"||(m==null?void 0:m.feedLocation)==="PAGE_TIMELINE_PERMALINK"||(m==null?void 0:m.feedLocation)==="GROUP_PERMALINK"?"none":"see-more"}),level:3}),j.jsx(b("CometFeedTranslationActions.react"),{actionElements:a})]})}return null},[f,d,l,e]);if(d==null)throw b("unrecoverableViolation")("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy rendered without a story","comet_feed");if(e==null)throw b("unrecoverableViolation")("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy rendered without a translated message","comet_feed");return j.jsxs(j.Fragment,{children:[f?a.children:null,c]})}}),null);
__d("CometFeedStoryTranslatedMessageContainerRenderingStrategy.react",["fbt","CometFeedGearActionIcon.react","CometFeedMessageQuote.react","CometFeedMessageTextWithEntities.react","CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer.graphql","CometFeedTranslationActions.react","CometFeedTranslationMenuTrigger.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","CometTrackingNodeProvider.react","TetraTextPairing.react","react","stylex","unrecoverableViolation","useCometFeedStoryMatchDebugger"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k=i||b("react"),l={linkHoverUnderline:{":hover":{textDecoration:"gpro0wi8"}},seeTranslationRoot:{paddingBottom:"ihqw7lf3",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",paddingTop:"ecm0bbzt"},seeTranslationTextOnly:{paddingBottom:"e5nlhep0",paddingTop:"discj3wi"},textOnlyQuote:{marginBottom:"tvmbv18p",marginTop:"tr9rh885"}},m=h!==void 0?h:h=b("CometFeedStoryTranslatedMessageContainerRenderingStrategy_messageContainer.graphql");function a(a){var c=b("CometRelay").useFragment(m,a.messageContainer);b("useCometFeedStoryMatchDebugger")(c);var d=c.story,e=d==null?void 0:(c=d.translation)==null?void 0:c.message;c=k.useState(!1);var f=c[0],h=c[1],i=k.useCallback(function(){h(function(a){return!a})},[]),n=k.useContext(b("CometFeedUnitQueryVariablesContext"));c=k.useMemo(function(){if(f&&e!=null&&d!=null){var a=[k.jsx(b("CometFeedTranslationMenuTrigger.react"),{label:g._("Translation preferences"),story:d,children:k.jsx(b("CometFeedGearActionIcon.react"),{})},"settings-gear"),k.jsx(b("CometPressable.react"),{display:"inline",onPress:i,overlayDisabled:!0,xstyle:l.linkHoverUnderline,children:g._("Hide Translation")},"toggle"),k.jsx(b("CometFeedTranslationMenuTrigger.react"),{story:d,children:g._("Rate this translation")},"rating-menu")].filter(Boolean);return k.jsxs(b("CometFeedMessageQuote.react"),{xstyle:(d==null?void 0:d.is_text_only_story)===!0&&l.textOnlyQuote,children:[k.jsx(b("TetraTextPairing.react"),{body:k.jsx(b("CometFeedMessageTextWithEntities.react"),{maxLines:d==null?void 0:d.message_truncation_line_limit,textWithEntities:e,truncationStyle:(n==null?void 0:n.feedLocation)==="PERMALINK"||(n==null?void 0:n.feedLocation)==="PAGE_TIMELINE_PERMALINK"||(n==null?void 0:n.feedLocation)==="GROUP_PERMALINK"?"none":"see-more"}),level:3,testid:void 0}),k.jsx(b("CometFeedTranslationActions.react"),{actionElements:a})]})}return k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:k.jsx("div",{className:(j||(j=b("stylex")))(l.seeTranslationRoot,(d==null?void 0:d.is_text_only_story)&&l.seeTranslationTextOnly),children:k.jsx(b("TetraTextPairing.react"),{body:k.jsx(b("CometPressable.react"),{display:"inline",onPress:i,overlayDisabled:!0,testid:void 0,xstyle:l.linkHoverUnderline,children:g._("See translation")}),bodyColor:"secondary",level:3})})})},[d,i,e,f]);if(d==null)throw b("unrecoverableViolation")("TranslatedMessageContainerRenderingStrategy rendered without a story","comet_feed");if(e==null)throw b("unrecoverableViolation")("TranslatedMessageContainerRenderingStrategy rendered without a translated message","comet_feed");return k.jsxs(k.Fragment,{children:[a.children,c]})}}),null);