if (self.CavalryLogger) { CavalryLogger.start_js(["bbq67"]); }

__d("CometPhotoLayoutChildRelay_story_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoLayoutChildRelay_story_node",selections:[{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:584}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoLayoutChildRelay_story_photo"},a],type:"Photo",abstractKey:null},{kind:"InlineDataFragmentSpread",name:"getCometMediaURL_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:b,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Video",abstractKey:null}]}],storageKey:null}],type:"StoryAttachment",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoLayoutChildRelay_story_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoLayoutChildRelay_story_photo",selections:[{args:null,kind:"FragmentSpread",name:"useCometPhotoViewerPlaceholderPassthroughProps_photo"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedAlbumGridWarningScreen_media"}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CircularProgressBar.react",["cx","createReactClass_DEPRECATED","gkx","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=b("createReactClass_DEPRECATED")({displayName:"CircularProgressBar",propTypes:{animate:b("prop-types").bool,percentComplete:b("prop-types").number.isRequired,text:b("prop-types").string},render:function(){var a=this.props,c=a.animate,d=a.text;a=a.percentComplete;var e=360*a/100,f=Math.max(e,180)-180;e=Math.min(e,180);var g=a<100?"1":"0",h=b("gkx")("1968791")?"_1_br _9q5e":"_1_br";return i.jsxs("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:g},children:[!!d&&i.jsx("div",{className:"_22sa",children:d}),i.jsx("div",{className:"_1_bk",children:i.jsxs("div",{className:c?"_22sb":"",children:[i.jsx("div",{className:"_1_bl",style:{opacity:g}}),i.jsx("div",{className:"_1_bp _1_bq",children:i.jsx("div",{className:h,style:{transform:"translateX(-100%) rotate("+f+"deg)",opacity:g}})}),i.jsx("div",{className:"_1_bs _1_bq",children:i.jsx("div",{className:h,style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:g}})})]})})]})}});c=a;e.exports=c}),null);
__d("CollageItemFallback.react",["ix","CircularProgressBar.react","CometImage.react","TetraText.react","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react");function a(a){var c=a.filename,d=a.fileType;a=a.percentComplete;c=c!=null?c:void 0;var e=b("qex")._("1138950");return j.jsxs("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t datstx6m cbu4d94t j83agx80 rq0escxv qsy8amke bp9cbjyn n5ue3fu6",children:[j.jsx("div",{className:(i||(i=b("stylex"))).dedupe(e===!0?{"display-1":"j83agx80","margin-bottom-1":"qacpv2si","margin-top-1":"f0zqjlou"}:{"display-1":"j83agx80","margin-bottom-1":"n851cfcs"}),children:j.jsx(b("CometImage.react"),{alt:c,draggable:!1,src:d==="VIDEO"?g("567270"):g("557364")})}),a!=null&&j.jsx(b("CircularProgressBar.react"),{percentComplete:a*100}),j.jsx(b("TetraText.react"),{numberOfLines:1,type:"meta1",children:c})]})}}),null);
__d("CometComposerFocusImage.react",["CometFeedFocusMedia.react","CometImage.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=.5;f.DEFAULT_FOCUS_X=c;d=.5;f.DEFAULT_FOCUS_Y=d;function a(a){var c=a.alt,d=a.focusX,e=a.focusY,f=a.imageHeight,g=a.imageWidth,i=a.onError,j=a.src;a=a.viewportAspectRatio;var k=h.useCallback(function(){i&&i();return void 0},[i]);return h.jsx("div",{className:"stjgntxs ni8dbmo4",children:h.jsx(b("CometFeedFocusMedia.react"),{focusX:d,focusY:e,mediaHeight:f,mediaWidth:g,viewportAspectRatio:a,children:function(a){return h.jsx(b("CometImage.react"),{alt:c,onError:k,src:j,xstyle:a})}})})}e=h.memo(a);f.CometComposerFocusImage=e}),null);
__d("ComposerCometPhotoLayoutMediaAttachmentContext",["CometComposerFocusImage.react","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c={adID:null,focusX:b("CometComposerFocusImage.react").DEFAULT_FOCUS_X,focusY:b("CometComposerFocusImage.react").DEFAULT_FOCUS_Y,mediasetToken:null,numPhotosNotShown:0,shouldRoundCorners:!0,shouldShowOverlay:!1,viewportAspectRatio:1};d=a.createContext(c);e.exports=d}),null);
__d("CometPhotoLayoutMediaOverlay.react",["fbt","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){a=a.numItemsNotShown;return i.jsx("div",{className:"hzruof5a taijpn5t cbu4d94t j83agx80 sx5rzos5 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:i.jsx(b("TetraText.react"),{align:"center",color:"white",type:"entityHeaderHeadline2",children:g._("+{num}",[g._param("num",a)])})})}}),null);
__d("CometPhotoLayoutChildRelay.react",["CometFeedAlbumGridWarningScreen.react","CometFeedFocusImage.react","CometFeedUnitQueryVariablesContext","CometPhotoLayoutChildRelay_story_node.graphql","CometPhotoLayoutChildRelay_story_photo.graphql","CometPhotoLayoutMediaOverlay.react","CometPressable.react","CometProductTagFunnelIDContext","CometProductTagLoggingUtils","CometRelay","CometTrackingCodeContext","CometTrackingNodesContext","getAggregatedStoryTrackingNodeIndex","getCometMediaURL","react","stylex","unrecoverableViolation","useCometPhotoViewerPlaceholderPassthroughProps"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j,k=i||b("react"),l={gridCell:{flexGrow:"buofh1pr",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7"},imageButton:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},mediaPressed:{backgroundColor:"r9n4d945"},roundedCorners:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss"}},m=.5,n=.5;function o(a){var b;b=(b=a.media)==null?void 0:(b=b.image)==null?void 0:b.uri;if(a.deduplication_key!=null)return a.deduplication_key;return b!=null?b:null}function a(a){var c=a.adID,d=a.attachment,e=a.hasProductTags,f=a.initialTracePolicy,i=a.numItemsNotShown,p=a.shouldRoundCorners;p=p===void 0?!1:p;var q=a.shouldShowOverlay,r=a.subOrigin,s=a.token;a=a.viewportAspectRatio;var t=k.useContext(b("CometTrackingCodeContext")),u=k.useContext(b("CometTrackingNodesContext")),v=k.useContext(b("CometFeedUnitQueryVariablesContext")),w=k.useContext(b("CometProductTagFunnelIDContext"));u=b("getAggregatedStoryTrackingNodeIndex")(u);d=b("CometRelay").useFragment(g!==void 0?g:g=b("CometPhotoLayoutChildRelay_story_node.graphql"),d);if(d==null)throw b("unrecoverableViolation")("node cannot be missing in CometPhotoLayoutChildRelay","comet_feed");var x=d.media,y=x==null?void 0:x.image;if(x==null)throw new(b("unrecoverableViolation"))("media cannot be missing in CometPhotoLayoutChildRelay","comet_feed");if(y==null)throw new(b("unrecoverableViolation"))("Image cannot be missing in CometPhotoLayoutChildRelay","comet_feed");var z=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoLayoutChildRelay_story_photo.graphql"),x),A=b("useCometPhotoViewerPlaceholderPassthroughProps")({photo:z,placeholderImageSrc:y==null?void 0:y.uri}),B=z==null?void 0:z.accessibility_caption,C=z==null?void 0:z.focus,D=C==null?void 0:C.x;C=C==null?void 0:C.y;var E=y.height,F=y.uri;y=y.width;if(F==null||E==null||y==null)throw new(b("unrecoverableViolation"))("uri, height, or width cannot be missing in CometPhotoLayoutChildRelay","comet_feed");d=o(d);d=b("getCometMediaURL")(x,s);if(B===null||B===void 0)throw b("unrecoverableViolation")("attachment cannot be missing an accessibilityCaption in CometPhotoLayoutChildRelay","comet_feed");if(a==null)throw b("unrecoverableViolation")("viewportAspectRatio cannot be null or undefined in CometPhotoLayoutChildRelay","comet_feed");var G=z==null?void 0:z.id;D=k.jsx(b("CometFeedFocusImage.react"),{focusX:(x=D)!=null?x:m,focusY:(s=C)!=null?s:n,imageHeight:E,imageWidth:y,src:F,viewportAspectRatio:a});x=function(){e===!0&&G!=null&&b("CometProductTagLoggingUtils").logProductTagPostClick(c,"CometPhotoLayout",w,"newsfeed",G,"product_tag_on_newsfeed_"+G)};return k.jsxs("div",{className:(j||(j=b("stylex")))(l.gridCell,p?l.roundedCorners:null),"data-testid":void 0,children:[k.jsxs(b("CometPressable.react"),{"aria-label":B,display:"block",hideHoverOverlay:!0,linkProps:{passthroughProps:babelHelpers["extends"]({index:u,initialTracePolicy:f,productTagFunnelID:w,storyRenderLocation:v==null?void 0:v.renderLocation,subOrigin:r,trackingCode:t},A),url:d},onPress:x,overlayPressedStyle:l.mediaPressed,xstyle:l.imageButton,children:[D,q===!0&&i!=null?k.jsx(b("CometPhotoLayoutMediaOverlay.react"),{numItemsNotShown:i}):null]}),k.jsx(b("CometFeedAlbumGridWarningScreen.react"),{media:z,mediaUrl:d})]})}}),null);