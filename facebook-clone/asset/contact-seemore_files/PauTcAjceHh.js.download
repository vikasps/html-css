if (self.CavalryLogger) { CavalryLogger.start_js(["CL8Hu"]); }

__d("StoriesCreateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"satpScale"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],e={enumValues:null,nullable:!0,plural:!1,type:"String"},f={enumValues:null,nullable:!0,plural:!1,type:"ID"},g={enumValues:null,nullable:!0,plural:!1,type:"Float"},h={enumValues:null,nullable:!0,plural:!1,type:"Image"},i={enumValues:null,nullable:!0,plural:!1,type:"Url"},j={enumValues:null,nullable:!0,plural:!1,type:"Color"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateQuery",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormSteps"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websites",storageKey:null}],type:"Page",abstractKey:null},c,{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},b],storageKey:null},{"if":null,kind:"Defer",label:"useStoriesCreateFormEditorRoot$defer$StoriesCreateFormSATP",selections:[{alias:null,args:[{kind:"Literal",name:"categories",value:["TEXT_BASE"]}],concreteType:"Collection",kind:"LinkedField",name:"visual_composer_satp_collections",plural:!0,selections:[{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"presets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"font_postscript_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_font_size",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"satpScale"}],concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"custom_thumbnail",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_description",storageKey:null},{alias:"default_thumbnail",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"scale",value:1},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:d,storageKey:"background_image(height:32,scale:1,width:32)"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"collection_name",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:'visual_composer_satp_collections(categories:["TEXT_BASE"])'}]}]},params:{id:"5179622515413437",metadata:{relayTestingSelectionTypeInfo:{viewer:{enumValues:null,nullable:!0,plural:!1,type:"Viewer"},"viewer.actor":{enumValues:null,nullable:!0,plural:!1,type:"Actor"},"viewer.actor.__typename":{enumValues:null,nullable:!1,plural:!1,type:"String"},"viewer.actor.address":{enumValues:null,nullable:!0,plural:!1,type:"StreetAddress"},"viewer.actor.address.single_line_full_address":e,"viewer.actor.all_phones":{enumValues:null,nullable:!1,plural:!0,type:"Phone"},"viewer.actor.all_phones.phone_number":{enumValues:null,nullable:!0,plural:!1,type:"PhoneNumber"},"viewer.actor.all_phones.phone_number.universal_number":e,"viewer.actor.id":f,"viewer.actor.location":{enumValues:null,nullable:!0,plural:!1,type:"Location"},"viewer.actor.location.latitude":g,"viewer.actor.location.longitude":g,"viewer.actor.name":e,"viewer.actor.profile_picture":h,"viewer.actor.profile_picture.uri":i,"viewer.actor.websites":{enumValues:null,nullable:!1,plural:!0,type:"Url"},"viewer.comet_composer_video_uploader_config":e,visual_composer_satp_collections:{enumValues:null,nullable:!1,plural:!0,type:"Collection"},"visual_composer_satp_collections.collection_name":{enumValues:null,nullable:!0,plural:!1,type:"TextWithEntities"},"visual_composer_satp_collections.collection_name.text":e,"visual_composer_satp_collections.presets":{enumValues:null,nullable:!1,plural:!0,type:"TextFormatMetadata"},"visual_composer_satp_collections.presets.background_color":j,"visual_composer_satp_collections.presets.background_description":e,"visual_composer_satp_collections.presets.background_gradient_color":j,"visual_composer_satp_collections.presets.background_gradient_direction":e,"visual_composer_satp_collections.presets.color":j,"visual_composer_satp_collections.presets.custom_thumbnail":h,"visual_composer_satp_collections.presets.custom_thumbnail.uri":i,"visual_composer_satp_collections.presets.default_thumbnail":h,"visual_composer_satp_collections.presets.default_thumbnail.uri":i,"visual_composer_satp_collections.presets.inspirations_custom_font_object":{enumValues:null,nullable:!0,plural:!1,type:"InspirationsCustomFont"},"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_name":e,"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_postscript_name":e,"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_url":i,"visual_composer_satp_collections.presets.inspirations_custom_font_object.id":f,"visual_composer_satp_collections.presets.inspirations_custom_font_object.preferred_font_size":{enumValues:null,nullable:!0,plural:!1,type:"Int"},"visual_composer_satp_collections.presets.portrait_background_image":h,"visual_composer_satp_collections.presets.portrait_background_image.uri":i,"visual_composer_satp_collections.presets.preset_id":f}},name:"StoriesCreateQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("StoriesCreateFormBodyWrapper_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesCreateFormBodyWrapper_data",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormEditorRoot.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormEditorRoot",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateCTALink"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormSATP"}]},{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormSteps.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormSteps",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormEditorRoot"},{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormTypeChooser"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormTypeChooser.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormTypeChooser",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("StoriesCreateMediaUploaderContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c={uploader:null};d=a.createContext(c);e.exports=d}),null);
__d("withStoriesCreateViewStatePart",["StoriesCreateViewStateContext","react","withSomeContext"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;g||b("react");function a(a,c){return b("withSomeContext")(a,b("StoriesCreateViewStateContext"),c)}}),null);
__d("StoriesComposerCometHeadlessMediaUploader.react",["CometPlaceholder.react","JSResourceForInteraction","StoriesCreateMediaUploaderContext","StoriesCreateViewStateDispatcherContext","lazyLoadComponent","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerHeadlessMediaUploaderImpl.react").__setRef("StoriesComposerCometHeadlessMediaUploader.react"));function a(a){var c=a.mediaAttachments;a=a.mediaUploadStatuses;var d=h.useContext(b("StoriesCreateViewStateDispatcherContext")),e=h.useContext(b("StoriesCreateMediaUploaderContext"));e=e.uploader;return e==null||c==null||c[0].fileType==="VIDEO"?null:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx("div",{}),children:h.jsx(i,{composerUploader:e,dispatch:d,mediaAttachments:c,mediaUploadStatuses:a,useOptimisticMediaPost:!1})})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses}});e.exports=c}),null);
__d("StoriesCreateMediaReducer",["composerMediaAttachmentReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(c.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":case"REMOVE_MEDIA_ATTACHMENT_ITEM":case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":case"QUEUE_UPLOADS":case"MARK_UPLOADS_CLIENT_PROCESSING":case"MARK_UPLOADS_AS_PHOTO":case"MEDIA_UPLOAD_STARTED":case"MEDIA_UPLOAD_PROGRESS":case"MEDIA_UPLOAD_SUCCESSFUL":case"REORDER_MEDIA_ATTACHMENT_ITEM":case"SAVE_MEDIA_EDITS":case"SET_MEDIA_ATTACHMENT_CAPTION":case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":case"SET_PHOTO3D_CREATION_DATA":c=c;c=b("composerMediaAttachmentReducer")({mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses},c);var d=c.mediaAttachments;c=c.mediaUploadStatuses;return babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:c})}return a}}),null);
__d("useStoriesCreateReducer",["StoriesCreateViewStateReducersContext","useContextRef"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return b("useContextRef")(a,b("StoriesCreateViewStateReducersContext"))}}),null);
__d("StoriesCreateMediaSelector.react",["fbt","ix","CometFileSelector.react","CometImageFromIXValue.react","CometPressable.react","StoriesCreateConstants","StoriesCreateMediaReducer","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","cometPushToast","fbicon","fileInputAcceptValues","isMimeTypeForMedia","react","useFileDragEvents","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=2;function a(a){var c=a.onFilesSelect;b("useStoriesCreateReducer")(b("StoriesCreateMediaReducer"));var d=j.useContext(b("StoriesCreateViewStateDispatcherContext"));a=j.useCallback(function(a){if(a.length>0){var e=Array.from(a);for(var f=0;f<a.length;f++){var h=a[f].type;h=!(b("isMimeTypeForMedia").isMimeTypeForVideo(h)&&b("StoriesGating").isCometStoriesVideoProductionEnabled())&&!b("isMimeTypeForMedia").isMimeTypeForPhoto(h);if(h){h=b("StoriesGating").isCometStoriesVideoProductionEnabled()?g._("This file type is not supported. Please select a photo or video instead."):g._("This file type is not supported. Please select a photo instead.");b("cometPushToast").cometPushErrorToast({message:h});return}}d({files:e,type:"ADD_MEDIA_ATTACHMENT_ITEMS"});c(e.map(function(a){return a.type}))}},[d,c]);b("useFileDragEvents")(a);var e=b("fileInputAcceptValues").PHOTO,f=g._("Create a Photo Story");b("StoriesGating").isCometStoriesVideoProductionEnabled()&&(e=e.concat(b("fileInputAcceptValues").VIDEO),f=g._("Create a photo or video story"));var i=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,l=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH;return j.jsx(b("CometFileSelector.react"),{accept:e,onFilesSelected:a,children:function(a){return j.jsx(b("CometPressable.react"),{display:"inline",label:g._("Upload photo"),onPress:a,overlayRadius:8,testid:void 0,children:j.jsxs("div",{className:"l9j0dhe7 jm1wdb64 pfnyh3mw kb5gq1qc cbu4d94t j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 bp9cbjyn",style:{height:i,width:l-k},children:[j.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb",style:{height:i,width:l},children:j.jsx(b("CometImageFromIXValue.react"),{source:h("1394933")})}),j.jsx("div",{className:"eim337gk op20o8eh l9j0dhe7 taijpn5t qu8okrzs j83agx80 sz7gx65s spb7xbtv bkmhp75w emlxlaya s45kfl79 cwj9ozl2 o8rfisnq bp9cbjyn",children:j.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(h("481799"),20),size:20})}),j.jsx("div",{className:"k4urcfbm hq1mf54v oqcyycmt l9j0dhe7 lt9micmv gl4o1x5y taijpn5t fdgqbs4u n3ffmt46 qo0gs2wv j83agx80 ljqsnud1 rq0escxv",children:f})]})})}})}}),null);
__d("StoriesCreateMediaTypeEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({PHOTO:"photo",SATP:"satp",VIDEO:"video"});c=a;e.exports=c}),null);
__d("StoriesCreateNullStateView.react",["fbt","ix","CometImage.react","CometPressable.react","QPLUserFlow","QuickPerformanceLogger","StoriesCreateConstants","StoriesCreateMediaSelector.react","StoriesCreateMediaTypeEnum","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","fbicon","isMimeTypeForMedia","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){a=a.composerSessionID;var c=j.useContext(b("StoriesCreateViewStateDispatcherContext")),d=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,e=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH,f=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SPACE_BETWEEN_SELECTOR;j.useEffect(function(){b("QuickPerformanceLogger").markerEnd(13238400,2)},[]);j.useEffect(function(){b("QPLUserFlow").start(13250512)},[a]);return j.jsxs("div",{className:"i1fnvgqd j83agx80",style:{width:2*e+f},children:[j.jsx(b("StoriesCreateMediaSelector.react"),{onFilesSelect:function(a){var d=b("StoriesCreateMediaTypeEnum").PHOTO;b("StoriesGating").isCometStoriesVideoProductionEnabled()&&b("isMimeTypeForMedia").isMimeTypeForVideo(a[0])&&(d=b("StoriesCreateMediaTypeEnum").VIDEO);c({formData:{mediaType:d,step:1},type:"step"})}}),j.jsx(b("CometPressable.react"),{onPress:function(){c({formData:{mediaType:b("StoriesCreateMediaTypeEnum").SATP,step:1},type:"step"})},overlayRadius:8,children:j.jsxs("div",{className:"cbu4d94t j83agx80 bp9cbjyn","data-testid":void 0,style:{height:d,width:e},children:[j.jsx("div",{className:"k4urcfbm pmk7jnqg stjgntxs ni8dbmo4 datstx6m l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",children:j.jsx(b("CometImage.react"),{height:d,src:h("1394934"),width:e})}),j.jsx("div",{className:"eim337gk op20o8eh l9j0dhe7 taijpn5t qu8okrzs j83agx80 sz7gx65s spb7xbtv bkmhp75w emlxlaya s45kfl79 cwj9ozl2 bp9cbjyn",children:j.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(h("486064"),20),size:20})}),j.jsx("div",{className:"k4urcfbm hq1mf54v oqcyycmt l9j0dhe7 lt9micmv gl4o1x5y taijpn5t n3ffmt46 qo0gs2wv j83agx80 ljqsnud1 rq0escxv",children:g._("Create a Text Story")})]})})]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID}});e.exports=c}),null);
__d("StoriesCreatePhotoPreviewFrame.react",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,b){var c=a.children,d=a.frameWidth;a=a.rounded;a=a===void 0?!1:a;return h.jsx("div",{className:"pmk7jnqg hzruof5a datstx6m",children:h.jsx("div",{className:"hzruof5a datstx6m",style:{width:d+"px"},children:h.jsx("div",{className:"pmk7jnqg datstx6m rq0escxv ddn55etz todgtsvd mher9iwd okr6w53f"+(a?" l82x9zwi uo3d90p7 pw54ja7n ue3kfks5":""),ref:b,style:{width:d+"px"},children:c})})})}c=h.forwardRef(a);e.exports=c}),null);
__d("useStoriesCreatePreviewDimensions",["CometAppNavigationConstants","CometRouteRenderType","StoriesCreateConstants","useCometWindowSize"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d,e=(d=b("StoriesCreateConstants")).PREVIEW_DIMENSIONS.COMET_PUSH_VIEW_HEIGHT,f=d.PREVIEW_DIMENSIONS.CONTAINER_HORIZONTAL_PADDING,g=d.PREVIEW_DIMENSIONS.CONTAINER_MAX_WIDTH,h=d.PREVIEW_DIMENSIONS.CONTAINER_VERTICAL_PADDING,i=d.PREVIEW_DIMENSIONS.CONTENT_HEADER_HEIGHT,j=d.PREVIEW_DIMENSIONS.CONTENT_HORIZONTAL_PADDING,k=d.PREVIEW_DIMENSIONS.CONTENT_VERTICAL_PADDING;d=d.PREVIEW_DIMENSIONS.SIDE_PANE_WIDTH;var l=b("CometRouteRenderType").useIsPushView(),m=b("useCometWindowSize")(),n=m.innerHeight;m=m.innerWidth;g=Math.min(g,m-f-j-d);m=n-h-k-i-a-c;m-=l?e:b("CometAppNavigationConstants").HEADER_HEIGHT;return{containerRectHeight:m,containerRectWidth:g}}}),null);
__d("useStoriesCreateMediaFrame",["react","useStoriesCreatePreviewDimensions"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a===void 0?{}:a;var c=a.footerHeight;a=a.headerHeight;var d=h.useState(0),e=d[0],f=d[1];d=h.useState(0);var g=d[0],i=d[1];d=b("useStoriesCreatePreviewDimensions")((d=a)!=null?d:0,(a=c)!=null?a:0);var j=d.containerRectHeight,k=d.containerRectWidth;h.useEffect(function(){var a=j*.5625;i(a);f(Math.max(k-a,0)/2)},[j,k]);return{border:e,containerRectHeight:j,containerRectWidth:k,frameWidth:g}}}),null);
__d("useStoriesCreatePhotoFrame",["StoriesCreateConstants","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return b("useStoriesCreateMediaFrame")({footerHeight:b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,headerHeight:b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT})}}),null);
__d("StoriesCreatePhotoPreviewPlaceholder.react",["CollageItemFallback.react","Locale","StoriesCreateConstants","StoriesCreatePhotoPreviewFrame.react","react","stylex","useStoriesCreatePhotoFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function a(){var a=b("Locale").isRTL(),c=b("useStoriesCreatePhotoFrame")();c=c.frameWidth;var d=b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,e=b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT;return i.jsx("div",{className:"k4urcfbm kr520xx4 pmk7jnqg i09qtzwb l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 tqsryivl",children:i.jsxs("div",{className:(h||(h=b("stylex"))).dedupe({"border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","display-1":"j83agx80","height-1":"alt01wi3","justify-content-1":"taijpn5t","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","position-1":"pmk7jnqg","start-1":"kfkz5moi","transform-0.1":"cj5g2342"},a?{"transform-0.1":"lcn5fozr"}:null),style:{height:"calc(100% - "+(d+e)+"px",top:e+"px",width:c},children:[i.jsx("div",{className:"k4urcfbm",children:i.jsx(b("CollageItemFallback.react"),{fileType:"PHOTO"})}),i.jsx(b("StoriesCreatePhotoPreviewFrame.react"),{frameWidth:c})]})})}}),null);
__d("StoriesCreatePreviewPlaceholder.react",["BaseGlimmer.react","StoriesCreateConstants","react","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=b("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,c=b("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.HEADER_HEIGHT;a=b("useStoriesCreateMediaFrame")({footerHeight:a,headerHeight:c});c=a.frameWidth;return h.jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn pmk7jnqg taijpn5t datstx6m cbu4d94t j83agx80 tqsryivl bp9cbjyn",children:h.jsx("div",{className:"l9j0dhe7 stjgntxs ni8dbmo4 n1l5q3vz n851cfcs datstx6m l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",style:{width:c+"px"},children:h.jsx(b("BaseGlimmer.react"),{className:"k4urcfbm datstx6m",index:0})})})}}),null);
__d("StoriesCreatePreviewRoot.react",["CometPlaceholder.react","CometRelay","CometUFIVideoPlayerUtils","JSResourceForInteraction","StoriesCreateMediaTypeEnum","StoriesCreatePhotoPreviewPlaceholder.react","StoriesCreatePreviewPlaceholder.react","StoriesCreatePreviewUtils","lazyLoadComponent","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreatePhotoPreview.react").__setRef("StoriesCreatePreviewRoot.react")),j=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateSATPPreview.react").__setRef("StoriesCreatePreviewRoot.react")),k=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateVideoPreview.react").__setRef("StoriesCreatePreviewRoot.react"));function a(a){a=a.mediaType;if(a===b("StoriesCreateMediaTypeEnum").PHOTO)return h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("StoriesCreatePhotoPreviewPlaceholder.react"),{}),children:h.jsx(i,{})});else if(a===b("StoriesCreateMediaTypeEnum").VIDEO)return h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerContextProvider,{children:h.jsx(k,{})})});else return h.jsx(b("CometRelay").RelayEnvironmentProvider,{environment:b("StoriesCreatePreviewUtils").storiesCreatePreviewEnvironment,children:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("StoriesCreatePreviewPlaceholder.react"),{}),children:h.jsx(j,{})})})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);
__d("StoriesCreateStoryReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(b.type){case"set_is_uploading":return babelHelpers["extends"]({},a,{isUploading:b.value})}return a}}),null);
__d("StoriesCreateFormReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(b.type){case"step":return babelHelpers["extends"]({},a,{formData:b.formData})}return a}}),null);
__d("StoriesCreateFormBodyPlaceholder.react",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){return h.jsx("div",{})}}),null);
__d("StoriesCreateFormBodyWrapper.react",["fbt","ix","CometPlaceholder.react","CometRelay","StoriesCreateFormBodyPlaceholder.react","StoriesCreateFormBodyWrapper_data.graphql","TetraListCell.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=j||b("react"),l=i!==void 0?i:i=b("StoriesCreateFormBodyWrapper_data.graphql");function a(a){var c,d=a.children;a=a.dataRef;a=b("CometRelay").useFragment(l,a);a=a==null?void 0:(a=a.viewer)==null?void 0:a.actor;c=a==null?void 0:(c=a.profile_picture)==null?void 0:c.uri;var e=g._("{name of the stories creator}",[g._param("name of the stories creator",a==null?void 0:a.name)]);(a==null?void 0:a.name)==null&&(e=g._("Story poster"));return k.jsxs(k.Fragment,{children:[k.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:60,source:{uri:(a=c)!=null?a:h("762679")},type:"profile-photo"},headline:e}),k.jsx("div",{className:"jei6r52m ay7djpcl bfjqzvhc"}),k.jsx(b("CometPlaceholder.react"),{fallback:k.jsx(b("StoriesCreateFormBodyPlaceholder.react"),{}),children:k.jsx("div",{className:"k4urcfbm dati1w0a hv4rvrfc taijpn5t g5gj957u buofh1pr cbu4d94t rj1gh0hx j83agx80 rq0escxv",children:d})})]})}}),null);
__d("StoriesCreateFormPhotoPlaceholder.react",["CometListItemGlimmer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){return h.jsx("div",{className:"jbcpqwzg aov4n071 fop5sh7t",children:h.jsx(b("CometListItemGlimmer.react"),{imageSize:48,imageStyle:"circle"})})}}),null);
__d("StoriesCreateFormSATPPlaceholder.react",["BaseGlimmer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){return h.jsxs("div",{className:"rm0tqlba",children:[h.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 se0szajb kzx2olss aot14ch1 p86d2i9g beltcj47",index:0,theme:"dark"}),h.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 e5d9fub0 kzx2olss aot14ch1 p86d2i9g beltcj47",index:1,theme:"dark"}),h.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 i7t6db18 kzx2olss aot14ch1 p86d2i9g beltcj47",index:1,theme:"dark"})]})}}),null);
__d("StoriesCreateSATPReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=a.satpData;c==null&&(c={background:null,backgroundColor:null,backgroundGradientColor:null,backgroundGradientDirection:null,fontColor:null,fontID:null,fontName:null,fontUrl:null,inputError:!1,presetID:null,text:""});switch(b.type){case"satp_update_text":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!1,text:b.text})});case"satp_update_background":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{background:b.background,backgroundColor:b.backgroundColor,backgroundGradientColor:b.backgroundGradientColor,backgroundGradientDirection:b.backgroundGradientDirection,fontColor:b.fontColor,presetID:b.presetID})});case"satp_update_font":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{fontID:b.fontID,fontName:b.fontName,fontUrl:b.fontUrl})});case"satp_update_input_error":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!0})})}return a}}),null);
__d("useStoriesCreateFormEditorRoot",["fbt","CometPlaceholder.react","CometRelay","JSResourceForInteraction","StoriesCreateFormBodyWrapper.react","StoriesCreateFormPhotoPlaceholder.react","StoriesCreateFormSATPPlaceholder.react","StoriesCreateMediaTypeEnum","StoriesCreateSATPReducer","StoriesCreateSettingButton.react","StoriesCreateViewStateContext","cr:1448152","lazyLoadComponent","react","useStoriesCreateFormEditorRoot.graphql","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateFormSATP.react").__setRef("useStoriesCreateFormEditorRoot")),l=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateFormPhoto.react").__setRef("useStoriesCreateFormEditorRoot")),m=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateFormVideo.react").__setRef("useStoriesCreateFormEditorRoot")),n=h!==void 0?h:h=b("useStoriesCreateFormEditorRoot.graphql");function a(a){var c=j.useContext(b("StoriesCreateViewStateContext"));a=b("CometRelay").useFragment(n,a);b("useStoriesCreateReducer")(b("StoriesCreateSATPReducer"));c=c.formData;var d=j.jsx("div",{children:g._("TO BE IMPLEMENTED (step two)")});if((c==null?void 0:c.mediaType)!=null)switch(c==null?void 0:c.mediaType){case b("StoriesCreateMediaTypeEnum").SATP:d=j.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("StoriesCreateFormSATPPlaceholder.react"),{}),children:j.jsx(k,{satp:a})})});break;case b("StoriesCreateMediaTypeEnum").PHOTO:d=j.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("StoriesCreateFormPhotoPlaceholder.react"),{}),children:j.jsx(l,{dataRef:a})})});break;case b("StoriesCreateMediaTypeEnum").VIDEO:d=j.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:j.jsx(m,{})})}return{body:d,footer:j.jsx(b("cr:1448152"),{}),hideBreadcrumb:!0,title:g._("Your story"),titleAddOn:j.jsx(b("StoriesCreateSettingButton.react"),{})}}}),null);
__d("useStoriesCreateFormTypeChooser",["fbt","CometRelay","StoriesCreateFormBodyWrapper.react","StoriesCreateSettingButton.react","react","useStoriesCreateFormTypeChooser.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=i||b("react"),k=h!==void 0?h:h=b("useStoriesCreateFormTypeChooser.graphql");function a(a){a=b("CometRelay").useFragment(k,a);return{body:j.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:j.jsx("div",{})}),footer:j.jsx("div",{}),hideBreadcrumb:!0,title:g._("Your story"),titleAddOn:j.jsx(b("StoriesCreateSettingButton.react"),{})}}}),null);
__d("useStoriesCreateFormSteps",["CometRelay","StoriesCreateFormReducer","useStoriesCreateFormEditorRoot","useStoriesCreateFormSteps.graphql","useStoriesCreateFormTypeChooser","useStoriesCreateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useStoriesCreateFormSteps.graphql");function a(a){b("useStoriesCreateReducer")(b("StoriesCreateFormReducer"));a=b("CometRelay").useFragment(h,a);var c=b("useStoriesCreateFormTypeChooser")(a);a=b("useStoriesCreateFormEditorRoot")(a);return[c,a]}}),null);
__d("StoriesCreate.react",["fbt","Actor","CometCreationLayout.react","CometRelay","ComposerMediaFileUploader","FBLogger","NullStateMedia","StoriesComposerCometHeadlessMediaUploader.react","StoriesCreateMediaReducer","StoriesCreateMediaUploaderContext","StoriesCreateNullStateView.react","StoriesCreatePreviewRoot.react","StoriesCreateQuery.graphql","StoriesCreateStoryReducer","TetraNullState.react","XCometStoriesCreateControllerRouteBuilder","cometComposerLogger","react","useRoutePassthroughProps","useStoriesCreateFormSteps","useStoriesCreateReducer","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||b("react"),k=h!==void 0?h:h=b("StoriesCreateQuery.graphql");function a(a){var c=a.composerSessionID,d=a.queryReference;a=a.step;var e=b("Actor").useActor(),f=e[0];e=j.useState({uploader:null});var h=e[0],i=e[1];e=b("CometRelay").usePreloadedQuery(k,d);b("useStoriesCreateReducer")(b("StoriesCreateMediaReducer"));b("useStoriesCreateReducer")(b("StoriesCreateStoryReducer"));var l=b("useRoutePassthroughProps")();j.useEffect(function(){var a=l&&l.entryPoint!=null&&l.sourceSurface!=null?{composerEntryPointName:String(l.entryPoint),composerSourceSurface:String(l.sourceSurface),composerType:"stories"}:{composerEntryPointName:"add_to_story_stories_surface",composerSourceSurface:"newsfeed",composerType:"stories"};b("cometComposerLogger")({fields:a,type:"COMPOSER_ENTRY"},c)},[]);var m=e==null?void 0:(d=e.viewer)==null?void 0:d.comet_composer_video_uploader_config,n=j.useMemo(function(){if(m==null)return{};try{return JSON.parse(m)}catch(a){b("FBLogger")("fbstories").info("Failed to parse JSON in video uploader config");return{}}},[m]);j.useEffect(function(){var a=new(b("ComposerMediaFileUploader"))(f,n,c,!1);a.photoUploader.setOption("handleErrorAfterUnload",!0);a.photoUploader.setUploadData(babelHelpers["extends"]({},a.photoUploader.getUploadData(),{waterfallxapp:"comet_stories"}));i({uploader:a})},[f,c,n]);d=b("useStoriesCreateFormSteps")(e);e={breadcrumbsOverride:[],creationCategoryName:g._("Stories"),creationCategoryURL:b("XCometStoriesCreateControllerRouteBuilder").buildURL({}),currentFormStep:a,formAreaTitle:g._("Stories creation form"),formSteps:d,previewAreaTitle:g._("Stories creation preview"),previewContainerProps:{allowFocus:!0,hasResponsiveToggle:!1}};if(a===0){e=babelHelpers["extends"]({},e,{previewNullState:j.jsx(b("StoriesCreateNullStateView.react"),{})});return j.jsx(b("CometCreationLayout.react"),babelHelpers["extends"]({},e))}else e=babelHelpers["extends"]({},e,{preview:j.jsx(b("StoriesCreatePreviewRoot.react"),{}),previewErrorFallback:function(){return j.jsx(b("TetraNullState.react"),{headline:g._("Create stories"),icon:b("NullStateMedia")})}});return j.jsxs(b("StoriesCreateMediaUploaderContext").Provider,{value:h,children:[j.jsx(b("StoriesComposerCometHeadlessMediaUploader.react"),{}),j.jsx(b("CometCreationLayout.react"),babelHelpers["extends"]({},e))]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,step:((a=a.formData)==null?void 0:a.step)||0}});e.exports=c}),null);
__d("StoriesCreateFormExitUtils",["StoriesCreateConstants"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return{body:a.BODY,title:a.TITLE}};f.exitDialogInformation=a}),null);
__d("StoriesCreateOverlayUtils",["FBStoriesCometProductionSitevarConfig","uuid"],(function(a,b,c,d,e,f){"use strict";f.textOverlayDomID=g;f.cloneOverlayNode=a;function g(a){return"a"+a}function a(a){if((a.textOverlays==null||a.textOverlays.overlays.length===0)&&(a.stickerData==null||a.stickerData.stickers.length===0))return null;var c=a.overlayRef;c=c.current;if(c==null)return null;a=((a=a.textOverlays)==null?void 0:a.overlays.map(function(a){return g(a.id)}))||[];var d=c.cloneNode(!0);c=c.getBoundingClientRect();d.style.width=c.width+"px";d.style.height=c.height+"px";d.style.position="absolute";d.style.top="-16000px";d.style.zIndex="-10000";var e=b("FBStoriesCometProductionSitevarConfig").fontOffsets;c=a.map(function(a){return d.querySelector("#"+a)}).filter(Boolean);c.forEach(function(a){a.id=g(b("uuid")());var c=a.style.fontFamily.replace(/\"/g,"");c=e[c];if(c==null)return;var d=a.style.transform,f=/translateX\(calc\(([^\)]+)\)\) /;f=d.match(f);var h=/translateY\(calc\(([^\)]+)\)\) /;h=d.match(h);var i=/rotate\((.+)deg\)/;i=d.match(i);i=90+(i!=null&&i.length>=2?parseFloat(i[1]):0);d=d;if(f!=null&&f.length>=2){f=f[1];var j=c*Math.cos(i*Math.PI/180);d=d.replace(f,f+" + "+j+"em")}if(h!=null&&h.length>=2){f=h[1];j=c*Math.sin(i*Math.PI/180);d=d.replace(f,f+" + "+j+"em")}a.style.transform=d});return d}}),null);
__d("ctaValidator",["StoriesCreateMediaTypeEnum"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d;if(((d=a.formData)==null?void 0:d.mediaType)===b("StoriesCreateMediaTypeEnum").SATP&&(((d=a.satpData)==null?void 0:d.text)==null||a.satpData.text.trim().length===0)){c({type:"satp_update_input_error"});return!1}return!0}}),null);
__d("satpValidator",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.ctaLinkData;var c=a.ctaType;a=a.link;if(c!=null&&(a===""||a==null)){b({error:!0,type:"CTA_UPDATE_LINK_INPUT_ERROR"});return!1}return!0}}),null);
__d("storiesCreateFormValidationUtils",["ctaValidator","satpValidator"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a.some(function(a){return(a=a)!=null?a:!1})};f.useFormHasErrors=g;a=function(a,c,d){var e=b("ctaValidator")(a,c);a=b("satpValidator")(a,c);e&&a&&d()};f.validateForm=a;c=function(a){var b,c=a.isUploading;a=a.viewState;b=g([a.ctaLinkData.linkInputError,((b=a.mediaAttachments)==null?void 0:(b=b[0])==null?void 0:b.fileType)==="PHOTO"&&((b=a.photoData)==null?void 0:b.displayedURI)==null,(b=a.satpData)==null?void 0:b.inputError]);a=(a=(a=a.videoData)==null?void 0:a.isTrimming)!=null?a:!1;return b||c||a};f.useFormSubmitDisabled=c}),null);
__d("useStoriesCreateFormExitConfirmation",["StoriesCreateConstants","useOnBeforeUnload"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){b("useOnBeforeUnload")(function(){if(a)return;var e=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return{primaryButtonLabel:e.CONFIRM,secondaryButtonLabel:e.CANCEL,title:c,warnMessage:d}})}}),null);
__d("useStoriesCreateFormHandler",["Actor","CometRelay","QPLUserFlow","QuickPerformanceLogger","StoriesCreateConstants","StoriesCreateFormExitUtils","StoriesCreateMediaUploaderContext","StoriesCreateOverlayUtils","StoriesCreateViewStateContext","StoriesCreateViewStateDispatcherContext","react","requireDeferred","storiesCreateFormValidationUtils","useCometConfirmationDialog","useNotificationsTrackingString","usePrevious","useStoriesCreateFormExitConfirmation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("requireDeferred")("StoriesCreateMutation");function a(a,c,d,e,f,g){var j=b("CometRelay").useRelayEnvironment(),k=h.useContext(b("StoriesCreateViewStateContext")),l=h.useContext(b("StoriesCreateViewStateDispatcherContext")),m=b("Actor").useActor(),n=m[0];m=b("usePrevious")(a);var o=m===!1&&a===!0&&g,p=b("useNotificationsTrackingString")();m=h.useContext(b("StoriesCreateMediaUploaderContext"));var q=m.uploader,r=h.useCallback(function(){var a=b("StoriesCreateOverlayUtils").cloneOverlayNode(k);if(q==null)return;i.onReady(function(b){b.createStories(k,n,j,q,a,f,function(a){return c(a,r)},e,p)})},[n,j,c,e,f,p,q,k]);g=b("useCometConfirmationDialog")();var s=g[0];m=b("storiesCreateFormValidationUtils").useFormSubmitDisabled({isUploading:a,viewState:k});var t=b("StoriesCreateFormExitUtils").exitDialogInformation();h.useEffect(function(){o&&(f!=null&&(b("QuickPerformanceLogger").markerEnd(f,4),b("QuickPerformanceLogger").markerStart(f)),r(),d())},[r,d,f,o]);b("useStoriesCreateFormExitConfirmation")(a,t.title,t.body);g=function(){b("storiesCreateFormValidationUtils").validateForm(k,l,function(){l({type:"set_is_uploading",value:!0})}),b("QPLUserFlow").endSuccess(13250512)};var u=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;a=function(){s({body:t.body,cancel:u.CANCEL,confirm:u.CONFIRM,title:t.title},function(){l({type:"restart"}),b("QPLUserFlow").endFailure(13250512,"User canceled")})};return{handleDiscard:a,handleSubmit:g,submitDisabled:m}}}),null);
__d("StoriesCreateFormFooterBase.react",["fbt","StoriesCreateConstants","TetraButton.react","react","useStoriesCreateFormHandler","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.isUploading,d=a.onError,e=a.onNavigate,f=a.onSuccess;a=a.qplEvent;var h=i.useState(!1),j=h[0],k=h[1];h=b("useStoriesCreateFormHandler")(c,d,e,f,a,j);d=h.handleDiscard;var l=h.handleSubmit;e=h.submitDisabled;f=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return i.jsxs("div",{className:"tw6a2znq d1544ag0 i1fnvgqd rdkrh8wx btwxx1t3 j83agx80 kmp5kqmu cwj9ozl2 bp9cbjyn",children:[i.jsx("div",{className:"kkf49tns cgat1ltu qypqp5cg buofh1pr",children:i.jsx(b("TetraButton.react"),{disabled:c,label:f.CONFIRM,onPress:d,size:"medium",type:"secondary"})}),i.jsx("div",{className:"kkf49tns cgat1ltu qypqp5cg buofh1pr",children:i.jsx(b("TetraButton.react"),{disabled:e,label:g._("Share to Story"),onPress:function(){l(),k(!0)},size:"medium"})})]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{isUploading:(a=a.isUploading)!=null?a:!1}});e.exports=c}),null);
__d("useStoriesCreateFormUpload",["fbt","ix","CometRouteRenderType","StoriesCreateMediaTypeEnum","TetraIcon.react","XCometStoriesControllerRouteBuilder","cometPushToast","fbicon","react","requireDeferred","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("requireDeferred")("SilenceableErrorMessageUtils");function a(a,c){var d=b("useCometRouterDispatcher")(),e=b("CometRouteRenderType").useIsPushView(),f=function(){if(d==null)return;if(e&&d.popPushView){d.popPushView();return}var c={composerSessionID:a},f=b("XCometStoriesControllerRouteBuilder").buildURL({});d.go(f,{passthroughProps:c,target:"self"})},i=function(a,c){k.onReady(function(d){var e=d.getMetadataFromError;d=d.shouldHideErrorMessage;if(d(e(a)))return;b("cometPushToast").cometPushToast({action:{label:g._("Try Again"),onPress:c},icon:j.jsx(b("TetraIcon.react"),{color:"negative",icon:b("fbicon")._(h("681772"),24)}),message:g._("Your photo couldn't be uploaded to your story")},1e4)})};c=c===b("StoriesCreateMediaTypeEnum").PHOTO?13238398:c===b("StoriesCreateMediaTypeEnum").SATP?13238399:void 0;var l=function(){};return{onError:i,onNavigate:f,onSuccess:l,qplEvent:c}}}),null);
__d("StoriesCreateFormFooter.react",["StoriesCreateFormFooterBase.react","react","useStoriesCreateFormUpload","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.composerSessionID;a=a.mediaType;c=b("useStoriesCreateFormUpload")(c,a);a=c.onError;var d=c.onNavigate,e=c.onSuccess;c=c.qplEvent;return h.jsx(b("StoriesCreateFormFooterBase.react"),{onError:a,onNavigate:d,onSuccess:e,qplEvent:c})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);