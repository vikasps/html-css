if (self.CavalryLogger) { CavalryLogger.start_js(["Mv4fs"]); }

__d("MWChatPageRTCButtonStateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID"}],b=[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"pageID"}],concreteType:"MessengerPageRTCEntrypointResult",kind:"LinkedField",name:"messenger_page_rtc_entrypoint",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_audio_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_video_button",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPageRTCButtonStateQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPageRTCButtonStateQuery",selections:b},params:{id:"2376256795832687",metadata:{},name:"MWChatPageRTCButtonStateQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatTabBannerUpsellQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"5298801256829192",metadata:{},name:"MWChatTabBannerUpsellQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWLSThreadLastReadWatermarkTimestamp.bs",["MWThreadKey.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("bs_int64").to_string(d);a=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return a.j})},[c,a]));if(a!==void 0)return b("bs_caml_int64").to_float(a)}f.useHook=a}),null);
__d("MWLSAddParticipantsToGroup.bs",["LS.bs","LSMailboxAddParticipantToGroupThreadStoredProcedure","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWThreadKey.bs","SkytaleDBHook.bs","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0);a=b("MWLSActor.bs").useActor(void 0);var d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){var e=b("LSTransaction.bs").run(c,function(c){return b("LSMailboxAddParticipantToGroupThreadStoredProcedure")(d,b("LSVec.bs").make(a),b("LS.bs").make(c))},"readWrite");b("promiseDone")(e,void 0,void 0)},[c,a,d])}f.useHook=a}),null);
__d("MWUIAddParticipantsToGroup.bs",["cr:1499534"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1499534").useHook;f.$MWLSAddParticipantsToGroup$OR$MWMSAddParticipantsToGroup$requireCond=b("cr:1499534");f.useHook=a}),null);
__d("MWChatPageRTCButtonStateQuery",["CometRelay","MWChatPageRTCButtonStateQuery.graphql","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(){var a=b("CometRelay").useRelayEnvironment();return i.useCallback(function(c,d){c=b("CometRelay").fetchQuery(a,j,{pageID:c}).toPromise().then(function(a){if(a){a=a.messenger_page_rtc_entrypoint;d({should_show_audio_button:a.should_show_audio_button,should_show_video_button:a.should_show_video_button})}});b("promiseDone")(c)},[a])}var j=g!==void 0?g:g=b("MWChatPageRTCButtonStateQuery.graphql")}),null);
__d("MWChatPageRTCButtonStateHook.bs",["MWChatPageRTCButtonStateQuery","MWChatThreadId.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useState(function(){}),d=c[1],e=b("MWChatPageRTCButtonStateQuery")();h.useEffect(function(){var c=0;typeof a==="string"||a.NAME!=="Page"?c=1:e(a.VAL,function(a){if(a===void 0)return b("bs_curry")._1(d,function(a){});var c=b("bs_caml_option").valFromOption(a);return b("bs_curry")._1(d,function(a){return b("bs_caml_option").some(c)})});c===1&&b("bs_curry")._1(d,function(a){})},[b("MWChatThreadId.bs").serializeFuture(a)]);return c[0]}f.useHook=a}),null);
__d("MWChatHasTabContent.bs",["MWChatMultitabHasTabContent.bs","MWChatMultitabStateHook.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);return h.useCallback(function(a){return b("MWChatMultitabHasTabContent.bs").get(c,a)},[c])}f.useHook=a}),null);
__d("MWChatBlurTab.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,{TAG:7,_0:a})},[c])}f.useHook=a}),null);
__d("MWChatFocusTab.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,{TAG:8,_0:a})},[c])}f.useHook=a}),null);
__d("MWChatAccessibleHeaderTitle.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={accessibleElem:{clip:"svngc6pa",height:"ay7djpcl",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",whiteSpace:"g0qnabr5",width:"rfua0xdk"}};function a(a){a=a.title;return i.jsx("h3",{children:a,className:(h||(h=b("stylex")))(j.accessibleElem)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatHeaderButton.bs",["fbt","CometPressable.react","CometTooltip.react","ODS","bs_curry","react","stylex","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={action:{marginStart:"hnxzwevs"},settingsButton:{flexShrink:"g5gj957u"}};function l(a,b,c){c=b!==void 0?b:"26px";return j.jsxs("svg",{children:[j.jsx("line",{stroke:a,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"2",y2:"14"}),j.jsx("line",{stroke:a,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"14",y2:"2"})],height:c,width:c,viewBox:"-4 -4 24 24"})}function m(a,b,c){c=b!==void 0?b:"26px";return j.jsx("svg",{children:j.jsx("line",{stroke:a,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"}),height:c,width:c,viewBox:"-4 -4 24 24"})}function a(a){var c=a.size;a=a.fill;c=c!==void 0?c:"10px";return j.jsx("svg",{children:j.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:a,fillRule:"evenodd"}),className:(i||(i=b("stylex")))(k.action),height:c,width:c,viewBox:"0 0 18 10"})}function c(a){var c=a.onShow,d=a.children;a=a.triggerRef;var e=g._("Chat settings");return j.jsx(b("CometTooltip.react"),{tooltip:e,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":e,expanding:!0,ref:a,testid:"messenger_header_settings_button",onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","settings");return b("bs_curry")._1(c,void 0)},overlayOffset:4,overlayRadius:4,xstyle:k.settingsButton,children:d,"aria-haspopup":"true"})})}function d(a){var c=a.fill,d=a.minimizeTab;a=a.size;a=a!==void 0?a:"26px";var e=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),f=g._("Minimise chat");return j.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":f,ref:e,testid:"MWChatTabHeaderButton_minimize",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[k.action]},children:m(c,a,void 0)})})}function e(a){var c=a.fill,d=a.closeTab;a=a.size;a=a!==void 0?a:"26px";var e=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),f=g._("Close chat");return j.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":f,ref:e,testid:"MWChatTabHeaderButton_close",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[k.action]},children:l(c,a,void 0)})})}function n(a){var c=a.fill,d=a.dispatch;a=a.size;a=a!==void 0?a:"26px";var e=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),f=g._("Cancel");return j.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":f,ref:e,onPress:function(a){return d("ToggleAddParticipants")},overlayRadius:"50%",xstyle:function(a){return[k.action]},children:l(c,a,void 0)})})}a=a;c=c;d=d;e=e;n=n;f.styles=k;f.closeIcon=l;f.minimizeIcon=m;f.chevronIcon=a;f.settings=c;f.minimize=d;f.close=e;f.toggleAddParticipants=n}),null);
__d("MWChatBaseHeader_DEPRECATED.bs",["cssVar","fbt","CometPressable.react","CometTooltipGroup.react","MWChatHeaderButton.bs","MWChatTabContainerShared.bs","MWTheme.bs","bs_caml_option","bs_curry","react","requireDeferred","stylex","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react");e=b("requireDeferred")("MWChatHeaderSettings.react");var l={root:{display:"j83agx80",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",boxSizing:"rq0escxv",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",paddingEnd:"dflh9lhu",userSelect:"abiwlrkh"},spacer:{flexGrow:"buofh1pr"},actions:{display:"j83agx80",alignItems:"bp9cbjyn",flexShrink:"pfnyh3mw",marginEnd:"cgat1ltu"}},m="#bec2c9";function n(a,c,d){if(c)return"#FFFFFF";else if(d)return b("MWTheme.bs").top(a);else return m}function a(a,c,d){var e=c?b("MWTheme.bs").top(a):void 0;a=n(a,c,d);d=c?"#FFFFFF":void 0;return[e,a,d]}function c(a,b,c,d){var e=h._("Muted"),f=h._("Verified"),g=h._("Active now");return(b?g+", ":"")+((c?e+", ":"")+(a+(d?", "+f:"")))}function d(a){var c=a.details,d=a.actions,e=a.closeTab,f=a.minimizeTab,g=a.clickHeader,h=a.backgroundColor;a=a.buttonColor;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;var i=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),m={};h!==void 0&&(m.backgroundColor=b("bs_caml_option").valFromOption(h));return k.jsx(b("CometPressable.react"),{expanding:!0,ref:i,onPress:function(a){return b("bs_curry")._1(g,void 0)},overlayDisabled:!0,children:k.jsxs("div",{children:[c,k.jsx("div",{className:(j||(j=b("stylex")))(l.spacer)}),k.jsx("div",{children:k.jsxs(b("CometTooltipGroup.react"),{children:[d,k.jsx(b("MWChatHeaderButton.bs").minimize,{fill:a,minimizeTab:f}),k.jsx(b("MWChatHeaderButton.bs").close,{fill:a,closeTab:e})]}),className:j(l.actions),role:"toolbar",name:"actions"})],className:j(l.root,b("MWChatTabContainerShared.bs").styles.header),style:m})})}g=b("MWChatTabContainerShared.bs").styles;d=d;f.headerSettingsDeferred=e;f.styles=l;f.sharedStyles=g;f.grayHeaderButtonColor=m;f.getButtonColor=n;f.getHeaderColors=a;f.getTitleLabel=c;f.make=d}),null);
__d("MWChatHeaderDetails.bs",["MWChatHeaderButton.bs","MWChatHeaderDetailsSubtitle.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",alignItems:"bp9cbjyn",maxWidth:"d2edcug0"},profile:{backgroundColor:"g5ia77u1",flexShrink:"pfnyh3mw",width:"bsnbvmp4",height:"k7cz35w2",position:"l9j0dhe7",marginEnd:"oi9244e8"},headerContainer:{flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t"},headerDropdown:{marginTop:"km676qkl",marginEnd:"oi9244e8",marginBottom:"myj7ivm5",marginStart:"hcukyx3x"},titleContainer:{maxWidth:"d2edcug0",display:"j83agx80"},subtitleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",fontSize:"sq6gx45u",whiteSpace:"kkem9qib",fontWeight:"ekzkrbhg",color:"m9osqain"},subtitleUnread:{color:"ljqsnud1"}};c={title:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",fontWeight:"ekzkrbhg",userSelect:"mdldhsdk",color:"oo9gr5id"},withUnderline:{":hover":{textDecoration:"gpro0wi8"}}};function a(a){var c=a.actorAttribution,d=a.profile,e=a.title,f=a.isActiveNow,g=a.isMuted,k=a.isOngoingCall,l=a.highlightHeader,m=a.showSettingsChevron;a=a.titleColor;k=k!==void 0?k:!1;g={isMuted:g,isOngoingCall:k,isActiveNow:f};c!==void 0&&(g.actorAttribution=b("bs_caml_option").valFromOption(c));return i.jsxs("div",{children:[i.jsx("div",{children:d,className:(h||(h=b("stylex")))(j.profile)}),i.jsxs("div",{children:[i.jsxs("div",{children:[e,m?i.jsx("div",{children:i.jsx(b("MWChatHeaderButton.bs").chevronIcon,{fill:a!==void 0?a:"var(--primary-text)"}),className:(h||(h=b("stylex")))(j.headerDropdown)}):null],className:h(j.titleContainer)}),i.jsx("div",{children:i.jsx(b("MWChatHeaderDetailsSubtitle.bs").make,g),className:h(j.subtitleContainer,l?j.subtitleUnread:!1)})],className:h(j.headerContainer)})],className:h(j.root)})}d=a;f.styles=j;f.sharedStyles=c;f.make=d}),null);
__d("MWChatHeaderProfile.bs",["fbt","CometBadge.react","CometNumberedBadge.react","MWChatFacepile.bs","MWChatProfile.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={activeNow:{display:"mkhogb32",position:"pmk7jnqg",bottom:"eh5mwn1z",end:"s95d9cuy"},active:{display:"a8c37x1j"},unreadBadge:{end:"aew9gpjp",position:"pmk7jnqg",top:"pixltzyo",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"},unreadBadgeHidden:{opacity:"b5wmifdl",transform:"w7z42tov"}};function a(a){var c=a.images,d=a.isActiveNow,e=a.size,f=a.unreadCount;a=a.children;e=e!==void 0?e:32;f=f!==void 0?f:0;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;f=f>0?j.jsx("div",{children:j.jsx(b("CometNumberedBadge.react"),{value:f}),"aria-label":g._({"*":"{number} unread messages","_1":"1 unread message"},[g._plural(f,"number")]),className:(i||(i=b("stylex")))(k.unreadBadge)}):j.jsx("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.unreadBadgeHidden)});var h=c.length;if(h!==1)h=h!==0?j.jsx(b("MWChatFacepile.bs").make,{children:a,firstParticipantURI:c[0],secondParticipantURI:c[1],size:e}):j.jsx(b("MWChatProfile.bs").make,{size:e});else{c=c[0];h=j.jsx(b("MWChatProfile.bs").make,{size:e,src:c,alt:"",children:a})}return j.jsxs("div",{children:[h,f,j.jsx("div",{children:j.jsx(b("CometBadge.react"),{color:"green",isProfileBadge:!0,border:"white"}),className:(i||(i=b("stylex")))(k.activeNow,d?k.active:!1)})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatGroupHeader.bs",["fbt","CometDeferredPopoverTrigger.react","CometLazyDialogTrigger.react","CometPressable.react","CometTextWithEntities.react","CometTooltip.react","JSResource","MWChatAccessibleHeaderTitle.bs","MWChatBaseHeader_DEPRECATED.bs","MWChatHeaderButton.bs","MWChatHeaderDetails.bs","MWChatHeaderProfile.bs","MWChatRTCButton.bs","MWChatTextTransform.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWUIBlockStatus.bs","MWUILoadParticipants.bs","ODS","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{flexShrink:"g5gj957u",minWidth:"hpfvmrgz"},button:{maxWidth:"d2edcug0"},titleWrap:{fontSize:"jq4qci2q",minWidth:"hpfvmrgz"},action:{marginStart:"hnxzwevs"}},l=g._("Start a group video chat"),m=g._("Start a group call");function n(a){if(a.length===0)return j.jsx("div",{});var b=a.length-10|0,c=b===1?11:10;a=a.slice(0,c).map(function(a,b){return j.jsx("div",{children:a.actualName},String(b))});if(b>1){c=g._("and {number of hidden chat participants} more.",[g._param("number of hidden chat participants",String(b))]);a.push(j.jsx("div",{children:c},"overflow"))}return j.jsx("div",{children:a})}function o(a){var c=a.title,d=a.tooltip,e=a.children;return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSGroupMembershipDialog.react").__setRef("MWChatGroupHeader.bs"),dialogProps:{onClose:function(a){}},children:function(a,f){return j.jsx(b("CometTooltip.react"),{tooltip:d,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":c,ref:f,onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.button]},children:e})})}})}c={make:o};function a(a){var c=a.id,d=a.header,e=a.rtcButtonDisplayState,f=a.showSettings,g=a.isActiveNow,h=a.highlightHeader,p=a.isBlocked,q=a.isMuted,r=a.isViewerInGroup,s=a.isTabFocused,t=a.dispatch,u=a.closeTab,v=a.minimizeTab,w=a.clickHeader,x=a.reportingToken,y=a.isEmptyThread;a=a.ongoingCallType;var z=d.rawTitle,A=d.title,B=b("MWThread_DEPRECATED.bs").useIdExn(void 0),C=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,B);B=b("MWTheme.bs").useTheme(void 0);B=b("MWChatBaseHeader_DEPRECATED.bs").getHeaderColors(B,h,s);s=B[2];var D=B[1];B=B[0];var E=b("MWChatBaseHeader_DEPRECATED.bs").getTitleLabel(A,g,q,!1),F=n(Array.from(C.values())),G={};s!==void 0&&(G.color=b("bs_caml_option").valFromOption(s));G=G;var H=b("bs_curry")._1(b("MWUIBlockStatus.bs").useIsBlockedUserInGroup,c);G={className:(i||(i=b("stylex")))(b("MWChatHeaderDetails.bs").sharedStyles.title),style:G};G["data-testid"]="messenger-chat-title-text";G=j.jsx("div",{children:j.createElement("div",G,j.jsx(b("CometTextWithEntities.react"),{text:A.toString(),transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]})),className:i(k.titleWrap)});A=j.jsx(b("MWChatHeaderDetails.bs").make,{actorAttribution:void 0,profile:j.jsx(o,{title:A,tooltip:F,children:j.jsx(b("MWChatHeaderProfile.bs").make,{images:d.profileImages,isActiveNow:g})}),title:G,isActiveNow:g,isMuted:q,isOngoingCall:a!==void 0,highlightHeader:h,showSettingsChevron:f,titleColor:s});F=function(a){return j.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:b("MWChatBaseHeader_DEPRECATED.bs").headerSettingsDeferred,popoverProps:{participants:C,dispatch:t,id:c,isBlocked:p,isMuted:q,isBlockedUserInGroup:H,isViewerInGroup:r,isGroup:!0,reportingToken:x,rawTitle:z,isEmptyThread:y},position:"start",children:function(c,d){return j.jsx(b("MWChatHeaderButton.bs").settings,{onShow:d,children:a,triggerRef:c})}})};d=j.jsxs(b("CometPressable.react"),{"aria-label":E,xstyle:k.root,children:[f?F(A):A,j.jsx(b("MWChatAccessibleHeaderTitle.bs").make,{title:E})]});var I;switch(e){case 0:I=a!==void 0?j.jsx(b("MWChatRTCButton.bs").ongoingGroupCall,{button:D,background:B,dispatch:t,highlightHeader:h,ongoingCallType:a}):j.jsxs(j.Fragment,{children:[j.jsx(b("MWChatRTCButton.bs").video,{fill:D,label:l,disabled:!1,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return t("ClickVideo")},showPresence:g,xstyle:[k.action]}),j.jsx(b("MWChatRTCButton.bs").audio,{fill:D,label:m,disabled:!1,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return t("ClickAudio")},xstyle:[k.action]})]});break;case 1:I=j.jsxs(j.Fragment,{children:[j.jsx(b("MWChatRTCButton.bs").video,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:l,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return t("ClickVideo")},showPresence:g,xstyle:[k.action]}),j.jsx(b("MWChatRTCButton.bs").audio,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:m,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return t("ClickAudio")},xstyle:[k.action]})]});break;case 2:I=null;break}G={details:d,actions:I,closeTab:u,minimizeTab:v,clickHeader:w,buttonColor:D};B!==void 0&&(G.backgroundColor=b("bs_caml_option").valFromOption(B));return j.jsx(b("MWChatBaseHeader_DEPRECATED.bs").make,G)}d=a;f.styles=k;f.videoCallButtonLabel=l;f.audioCallButtonLabel=m;f.getGroupNameTooltipFromParticipants=n;f.TitleWrapper=c;f.make=d}),null);
__d("MWChatGroupMessageRequestHeader.bs",["CometDeferredPopoverTrigger.react","CometTextWithEntities.react","MWChatBaseHeader_DEPRECATED.bs","MWChatGroupHeader.bs","MWChatHeaderButton.bs","MWChatHeaderDetails.bs","MWChatHeaderProfile.bs","MWChatRTCButton.bs","MWChatTextTransform.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWUIBlockStatus.bs","MWUILoadParticipants.bs","ODS","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.id,d=a.header,e=a.showSettings,f=a.isActiveNow,g=a.highlightHeader,j=a.isBlocked,k=a.isMuted,l=a.isViewerInGroup,m=a.isTabFocused,n=a.dispatch,o=a.closeTab,p=a.minimizeTab,q=a.clickHeader,r=a.reportingToken,s=a.isEmptyThread,t=d.rawTitle;a=d.title;var u=b("MWThread_DEPRECATED.bs").useIdExn(void 0),v=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,u);u=b("MWTheme.bs").useTheme(void 0);u=b("MWChatBaseHeader_DEPRECATED.bs").getHeaderColors(u,!1,m);m=u[2];var w=b("MWChatBaseHeader_DEPRECATED.bs").getTitleLabel(a,f,k,!1),x=b("MWChatGroupHeader.bs").getGroupNameTooltipFromParticipants(Array.from(v.values())),y={};m!==void 0&&(y.color=b("bs_caml_option").valFromOption(m));y=y;var z=b("bs_curry")._1(b("MWUIBlockStatus.bs").useIsBlockedUserInGroup,c);y=i.jsx("div",{children:i.jsx("div",{children:i.jsx(b("CometTextWithEntities.react"),{text:a.toString(),transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),className:(h||(h=b("stylex")))(b("MWChatHeaderDetails.bs").sharedStyles.title),style:y}),className:h(b("MWChatGroupHeader.bs").styles.titleWrap)});a=i.jsx(b("MWChatHeaderDetails.bs").make,{actorAttribution:void 0,profile:i.jsx(b("MWChatGroupHeader.bs").TitleWrapper.make,{title:a,tooltip:x,children:i.jsx(b("MWChatHeaderProfile.bs").make,{images:d.profileImages,isActiveNow:f})}),title:y,isActiveNow:f,isMuted:k,isOngoingCall:!1,highlightHeader:g,showSettingsChevron:e,titleColor:m});x=function(a){return i.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:b("MWChatBaseHeader_DEPRECATED.bs").headerSettingsDeferred,popoverProps:{dispatch:n,id:c,isBlocked:j,isMuted:k,isBlockedUserInGroup:z,isViewerInGroup:l,participants:v,isGroup:!0,reportingToken:r,rawTitle:t,isEmptyThread:s,disableCustomization:!0},position:"start",children:function(c,d){return i.jsx(b("MWChatHeaderButton.bs").settings,{onShow:d,children:a,triggerRef:c})}})};d=i.jsx("div",{children:e?x(a):a,"aria-label":w,className:h(b("MWChatGroupHeader.bs").styles.root)});y=i.jsxs(i.Fragment,{children:[i.jsx(b("MWChatRTCButton.bs").video,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:b("MWChatGroupHeader.bs").videoCallButtonLabel,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return n("ClickVideo")},showPresence:f,xstyle:[b("MWChatGroupHeader.bs").styles.action]}),i.jsx(b("MWChatRTCButton.bs").audio,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:b("MWChatGroupHeader.bs").audioCallButtonLabel,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return n("ClickAudio")},xstyle:[b("MWChatGroupHeader.bs").styles.action]})]});g={details:d,actions:y,closeTab:o,minimizeTab:p,clickHeader:q,buttonColor:u[1]};m=u[0];m!==void 0&&(g.backgroundColor=b("bs_caml_option").valFromOption(m));return i.jsx(b("MWChatBaseHeader_DEPRECATED.bs").make,g)}c=b("MWChatGroupHeader.bs").styles;d=b("MWChatGroupHeader.bs").videoCallButtonLabel;e=b("MWChatGroupHeader.bs").audioCallButtonLabel;var j=b("MWChatGroupHeader.bs").getGroupNameTooltipFromParticipants,k;a=a;f.styles=c;f.videoCallButtonLabel=d;f.audioCallButtonLabel=e;f.getGroupNameTooltipFromParticipants=j;f.TitleWrapper=k;f.make=a}),null);
__d("MWChatHeaderPlaceholder.bs",["BaseGlimmer.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{flexGrow:"buofh1pr",display:"j83agx80",alignItems:"bp9cbjyn"},icon:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",verticalAlign:"pzggbiyp",width:"thwo4zme",height:"tv7at329"},title:{flexGrow:"buofh1pr",height:"gl3lb2sf",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",maxWidth:"nxjwhen1",marginStart:"gu00c43d"}};function a(a){return i.jsxs("div",{children:[i.jsx(b("BaseGlimmer.react"),{className:(h||(h=b("stylex")))(j.icon),index:1}),i.jsx(b("BaseGlimmer.react"),{className:h(j.title),index:1})],className:h(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatLoadingHeader.bs",["MWChatBaseHeader_DEPRECATED.bs","MWChatHeaderPlaceholder.bs","MWTheme.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.closeTab,d=a.minimizeTab,e=a.clickHeader;a=a.isTabFocused;var f=b("MWTheme.bs").useTheme(void 0);f=b("MWChatBaseHeader_DEPRECATED.bs").getButtonColor(f,!1,a);return h.jsx(b("MWChatBaseHeader_DEPRECATED.bs").make,{details:h.jsx(b("MWChatHeaderPlaceholder.bs").make,{}),closeTab:c,minimizeTab:d,clickHeader:e,buttonColor:f})}c=a;f.make=c}),null);
__d("MWUIActorHovercardContact.bs",["cr:1810497"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1810497").useContact;f.$MWLSActorHovercardContact$OR$MWMSActorHovercardContact$requireCond=b("cr:1810497");f.useContact=a}),null);
__d("MWActorHovercard.bs",["ActorHovercard.react","BootloaderResource","CometPlaceholder.react","JSResource","MWLSContactTypeExactUtils.bs","MWUIActorHovercardContact.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MWInstagramUserHovercard.bs").__setRef("MWActorHovercard.bs");function a(a,b,c){return{children:a,contact:b}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}d={reasonResource:i,makeProps:a,make:j};function c(a){var c=a.actorID;a=a.children;var d=b("bs_curry")._1(b("MWUIActorHovercardContact.bs").useContact,void 0);return d!==void 0&&b("MWLSContactTypeExactUtils.bs").isIgUser(d)?h.jsx(b("CometPlaceholder.react"),{children:h.jsx(j,{children:a,contact:d}),fallback:null}):h.jsx(b("ActorHovercard.react"),{actorID:c,display:"inline",children:a})}e=c;f.LazyMWInstagramUserHovercard=d;f.make=e}),null);
__d("MWChatVerificationBadge.bs",["CometPageVerificationIcon.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={verificationBadge:{flexShrink:"pfnyh3mw",paddingTop:"ggysqto6",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus"}};function a(a){var c=a.pageVerificationBadge;a=a.highlightHeader;if(c!==void 0&&c!=="NOT_VERIFIED")return i.jsx("div",{children:i.jsx(b("CometPageVerificationIcon.react"),{isInverted:a,size:"small",verificationBadge:c}),className:(h||(h=b("stylex")))(j.verificationBadge)});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWUIThreadHeaderAttribution.bs",["cr:1555639"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1555639").useHook;f.$MWLSThreadHeaderAttribution$OR$MWMSThreadHeaderAttribution$requireCond=b("cr:1555639");f.useHook=a}),null);
__d("MWChatUserHeader.bs",["fbt","CometDeferredPopoverTrigger.react","CometLink.react","CometPressable.react","CometTextWithEntities.react","MWActorHovercard.bs","MWChatAccessibleHeaderTitle.bs","MWChatBaseHeader_DEPRECATED.bs","MWChatHeaderButton.bs","MWChatHeaderDetails.bs","MWChatHeaderProfile.bs","MWChatRTCButton.bs","MWChatTextTransform.bs","MWChatVerificationBadge.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","MWUIParticipantDetails.bs","MWUIThreadHeaderAttribution.bs","ODS","TetraTextContext","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{flexShrink:"g5gj957u",minWidth:"hpfvmrgz"},link:{maxWidth:"d2edcug0"},titleWrap:{fontSize:"jq4qci2q",minWidth:"hpfvmrgz"},action:{marginStart:"hnxzwevs"}};function l(a){var c=a.actorID,d=a.href,e=a.label,f=a.children;return j.jsx(b("MWActorHovercard.bs").make,{actorID:c,children:function(a){a={label:e,children:f,ref:a,xstyle:k.link};d!==void 0&&(a.href=b("bs_caml_option").valFromOption(d));return j.jsx(b("CometLink.react"),a)}})}c={make:l};function m(a){var c=a.color,d=a.title,e=a.pageVerificationBadge;a=a.highlightHeader;var f={};c!==void 0&&(f.color=b("bs_caml_option").valFromOption(c));c={className:(i||(i=b("stylex")))(b("MWChatHeaderDetails.bs").sharedStyles.title),style:f};c["data-testid"]="messenger-chat-title-text";return j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.createElement("div",c,j.jsx(b("CometTextWithEntities.react"),{text:d.toString(),transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]})),className:i(k.titleWrap)}),j.jsx(b("MWChatVerificationBadge.bs").make,{pageVerificationBadge:e,highlightHeader:a})]})}d={make:m};function a(a){var c=a.id,d=a.header,e=a.rtcButtonDisplayState,f=a.showSettings,h=a.isActiveNow,i=a.highlightHeader,n=a.isBlocked,o=a.isMuted,p=a.isTabFocused,q=a.dispatch,r=a.closeTab,s=a.minimizeTab,t=a.clickHeader,u=a.pageVerificationBadge,v=a.reportingToken,w=a.isEmptyThread,x=d.href;a=d.actorID;var y=d.rawTitle,z=d.title,A=b("MWThread_DEPRECATED.bs").useIdExn(void 0),B=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,A);A=b("MWThread_DEPRECATED.bs").useFBID(void 0);A=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantReachabilityStatus,A);var C=b("MWTheme.bs").useTheme(void 0);C=b("MWChatBaseHeader_DEPRECATED.bs").getHeaderColors(C,i,p);p=C[2];var D=C[1],E=b("MWChatBaseHeader_DEPRECATED.bs").getTitleLabel(z,h,o,u!==void 0),F=function(a){return j.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:b("MWChatBaseHeader_DEPRECATED.bs").headerSettingsDeferred,popoverProps:{dispatch:q,id:c,isBlocked:n,isMuted:o,participants:B,reportingToken:v,rawTitle:y,isEmptyThread:w,canonicalThreadProfileLink:x},position:"start",children:function(c,d){return j.jsx(b("MWChatHeaderButton.bs").settings,{onShow:d,children:a,triggerRef:c})}})},G=b("bs_curry")._1(b("MWUIThreadHeaderAttribution.bs").useHook,a);u={title:z,pageVerificationBadge:u,highlightHeader:i};p!==void 0&&(u.color=b("bs_caml_option").valFromOption(p));G=j.jsx(b("MWChatHeaderDetails.bs").make,{actorAttribution:G,profile:j.jsx(l,{actorID:a,href:x,label:E,children:j.jsx(b("MWChatHeaderProfile.bs").make,{images:[d.profileImage],isActiveNow:h})}),title:j.jsx(m,u),isActiveNow:h,isMuted:o,highlightHeader:i,showSettingsChevron:f,titleColor:p});a=j.jsxs(b("CometPressable.react"),{xstyle:k.root,children:[j.createElement(b("TetraTextContext").Provider,{value:{color:p!==void 0?p:"white",type:"body3"},children:f?F(G):G}),j.jsx(b("MWChatAccessibleHeaderTitle.bs").make,{title:z})]});E=g._("Start a video chat with {shortname}",[g._param("shortname",z)]);d=g._("Start a voice call with {shortname}",[g._param("shortname",z)]);var H;if(A)switch(e){case 0:H=j.jsxs(j.Fragment,{children:[j.jsx(b("MWChatRTCButton.bs").video,{fill:D,label:E,disabled:!1,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return q("ClickVideo")},showPresence:h,xstyle:[k.action]}),j.jsx(b("MWChatRTCButton.bs").audio,{fill:D,label:d,disabled:!1,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return q("ClickAudio")},xstyle:[k.action]})]});break;case 1:H=j.jsxs(j.Fragment,{children:[j.jsx(b("MWChatRTCButton.bs").video,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:E,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return q("ClickVideo")},showPresence:h,xstyle:[k.action]}),j.jsx(b("MWChatRTCButton.bs").audio,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:d,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return q("ClickAudio")},xstyle:[k.action]})]});break;case 2:H=null;break}else H=null;u={details:a,actions:H,closeTab:r,minimizeTab:s,clickHeader:t,buttonColor:D};i=C[0];i!==void 0&&(u.backgroundColor=b("bs_caml_option").valFromOption(i));return j.jsx(b("MWChatBaseHeader_DEPRECATED.bs").make,u)}e=a;f.styles=k;f.ProfileLink=c;f.Title=d;f.make=e}),null);
__d("MWChatPageHeader.bs",["fbt","CometDeferredPopoverTrigger.react","CometPressable.react","MWChatAccessibleHeaderTitle.bs","MWChatBaseHeader_DEPRECATED.bs","MWChatHeaderButton.bs","MWChatHeaderDetails.bs","MWChatHeaderProfile.bs","MWChatPageRTCButtonStateHook.bs","MWChatRTCButton.bs","MWChatUserHeader.bs","MWTheme.bs","ODS","TetraTextContext","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.id,d=a.header,e=a.rtcButtonDisplayState,f=a.showSettings,h=a.isActiveNow,j=a.highlightHeader,k=a.isBlocked,l=a.isMuted,m=a.isTabFocused,n=a.dispatch,o=a.closeTab,p=a.minimizeTab,q=a.clickHeader,r=a.participants,s=a.pageVerificationBadge,t=a.reportingToken,u=a.isEmptyThread,v=a.openPageURL,w=d.rawTitle;a=d.title;var x=b("MWTheme.bs").useTheme(void 0);x=b("MWChatBaseHeader_DEPRECATED.bs").getHeaderColors(x,j,m);m=x[2];var y=x[1],z=b("MWChatBaseHeader_DEPRECATED.bs").getTitleLabel(a,h,l,s!==void 0),A=function(a){return i.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:b("MWChatBaseHeader_DEPRECATED.bs").headerSettingsDeferred,popoverProps:{dispatch:n,id:c,isBlocked:k,isMuted:l,participants:r,reportingToken:t,rawTitle:w,isEmptyThread:u,openPageURL:v},align:"end",position:"below",disableAutoFlip:!0,children:function(c,d){return i.jsx(b("MWChatHeaderButton.bs").settings,{onShow:d,children:a,triggerRef:c})}})};s={title:a,pageVerificationBadge:s,highlightHeader:j};m!==void 0&&(s.color=b("bs_caml_option").valFromOption(m));z=i.jsx(b("MWChatHeaderDetails.bs").make,{actorAttribution:void 0,profile:i.jsx(b("MWChatUserHeader.bs").ProfileLink.make,{actorID:d.actorID,href:d.href,label:z,children:i.jsx(b("MWChatHeaderProfile.bs").make,{images:[d.profileImage],isActiveNow:h})}),title:i.jsx(b("MWChatUserHeader.bs").Title.make,s),isActiveNow:h,isMuted:l,highlightHeader:j,showSettingsChevron:f,titleColor:m});d=i.jsxs(b("CometPressable.react"),{xstyle:b("MWChatUserHeader.bs").styles.root,children:[i.createElement(b("TetraTextContext").Provider,{value:{color:m!==void 0?m:"white",type:"body3"},children:f?A(z):z}),i.jsx(b("MWChatAccessibleHeaderTitle.bs").make,{title:a})]});s=g._("Start a video chat with {shortname}",[g._param("shortname",a)]);j=g._("Start a voice call with {shortname}",[g._param("shortname",a)]);m=b("MWChatPageRTCButtonStateHook.bs").useHook(c);if(m!==void 0){f=b("bs_caml_option").valFromOption(m);A=[f.should_show_video_button,f.should_show_audio_button]}else A=[!1,!1];z=e>=2?null:i.jsxs(i.Fragment,{children:[A[0]?i.jsx(b("MWChatRTCButton.bs").video,{fill:y,label:s,disabled:e===1,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return n("ClickVideo")},showPresence:h,xstyle:[b("MWChatUserHeader.bs").styles.action]}):null,A[1]?i.jsx(b("MWChatRTCButton.bs").audio,{fill:y,label:j,disabled:e===1,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return n("ClickAudio")},xstyle:[b("MWChatUserHeader.bs").styles.action]}):null]});a={details:d,actions:z,closeTab:o,minimizeTab:p,clickHeader:q,buttonColor:y};m=x[0];m!==void 0&&(a.backgroundColor=b("bs_caml_option").valFromOption(m));return i.jsx(b("MWChatBaseHeader_DEPRECATED.bs").make,a)}c=b("MWChatUserHeader.bs").styles;d=a;f.styles=c;f.make=d}),null);
__d("MWChatTabBannerUpsell.entrypoint",["JSResourceForInteraction","MWChatTabBannerUpsellQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{upsellQueryRef:{parameters:b("MWChatTabBannerUpsellQuery$Parameters"),variables:{}}}}},root:b("JSResourceForInteraction")("MWChatTabBannerUpsell.react").__setRef("MWChatTabBannerUpsell.entrypoint")};c=a;e.exports=c}),null);
__d("MWChatTabBannerUpsellContainer.react",["CometPlaceholder.react","MWChatTabBannerUpsell.entrypoint","RelayHooks","react","useCometRelayEntrypointContextualEnvironmentProvider","useEffectOnce"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=b("useCometRelayEntrypointContextualEnvironmentProvider")();a=b("RelayHooks").useEntryPointLoader(a,b("MWChatTabBannerUpsell.entrypoint"));var c=a[0],d=a[1],e=a[2];b("useEffectOnce")(function(){d({});return function(){return e()}});return c?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("RelayHooks").EntryPointContainer,{entryPointReference:c,props:{}})}):null}}),null);
__d("MWChatUserMessageRequestHeader.bs",["fbt","CometDeferredPopoverTrigger.react","MWChatBaseHeader_DEPRECATED.bs","MWChatHeaderButton.bs","MWChatHeaderDetails.bs","MWChatHeaderProfile.bs","MWChatRTCButton.bs","MWChatUserHeader.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","MWUIThreadHeaderAttribution.bs","ODS","TetraTextContext","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function a(a){var c=a.id,d=a.header,e=a.showSettings,f=a.isActiveNow,h=a.highlightHeader,k=a.isBlocked,l=a.isMuted,m=a.isTabFocused,n=a.dispatch,o=a.closeTab,p=a.minimizeTab,q=a.clickHeader,r=a.pageVerificationBadge,s=a.reportingToken,t=a.isEmptyThread;a=d.actorID;var u=d.rawTitle,v=d.title,w=b("MWThread_DEPRECATED.bs").useIdExn(void 0),x=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,w);w=b("MWTheme.bs").useTheme(void 0);w=b("MWChatBaseHeader_DEPRECATED.bs").getHeaderColors(w,!1,m);m=w[2];var y=b("MWChatBaseHeader_DEPRECATED.bs").getTitleLabel(v,f,l,r!==void 0),z=function(a){return j.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:b("MWChatBaseHeader_DEPRECATED.bs").headerSettingsDeferred,popoverProps:{dispatch:n,id:c,isBlocked:k,isMuted:l,participants:x,reportingToken:s,rawTitle:u,isEmptyThread:t,disableCustomization:!0},position:"start",children:function(c,d){return j.jsx(b("MWChatHeaderButton.bs").settings,{onShow:d,children:a,triggerRef:c})}})},A=b("bs_curry")._1(b("MWUIThreadHeaderAttribution.bs").useHook,a);r={title:v,pageVerificationBadge:r,highlightHeader:h};m!==void 0&&(r.color=b("bs_caml_option").valFromOption(m));A=j.jsx(b("MWChatHeaderDetails.bs").make,{actorAttribution:A,profile:j.jsx(b("MWChatUserHeader.bs").ProfileLink.make,{actorID:a,href:d.href,label:y,children:j.jsx(b("MWChatHeaderProfile.bs").make,{images:[d.profileImage],isActiveNow:f})}),title:j.jsx(b("MWChatUserHeader.bs").Title.make,r),isActiveNow:f,isMuted:l,highlightHeader:h,showSettingsChevron:e,titleColor:m});a=j.jsx("div",{children:j.createElement(b("TetraTextContext").Provider,{value:{color:m!==void 0?m:"white",type:"body3"},children:e?z(A):A}),className:(i||(i=b("stylex")))(b("MWChatUserHeader.bs").styles.root)});y=g._("Start a video chat with {shortname}",[g._param("shortname",v)]);d=g._("Start a voice call with {shortname}",[g._param("shortname",v)]);r=j.jsxs(j.Fragment,{children:[j.jsx(b("MWChatRTCButton.bs").video,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:y,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video");return n("ClickVideo")},showPresence:f,xstyle:[b("MWChatUserHeader.bs").styles.action]}),j.jsx(b("MWChatRTCButton.bs").audio,{fill:b("MWChatBaseHeader_DEPRECATED.bs").grayHeaderButtonColor,label:d,disabled:!0,onPress:function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio");return n("ClickAudio")},xstyle:[b("MWChatUserHeader.bs").styles.action]})]});h={details:a,actions:r,closeTab:o,minimizeTab:p,clickHeader:q,buttonColor:w[1]};m=w[0];m!==void 0&&(h.backgroundColor=b("bs_caml_option").valFromOption(m));return j.jsx(b("MWChatBaseHeader_DEPRECATED.bs").make,h)}c=b("MWChatUserHeader.bs").styles;var k,l;d=a;f.styles=c;f.ProfileLink=k;f.Title=l;f.make=d}),null);
__d("MWUISendTypingIndicator.bs",["cr:1473331"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1473331").useHook;f.$MWLSSendTypingIndicator$OR$MWMSSendTypingIndicator$requireCond=b("cr:1473331");f.useHook=a}),null);
__d("MWChatTab.bs",["BootloaderResource","CometErrorBoundary.re","JSResource","MWChatConnectionStatusCard.bs","MWChatFocusComposerContext.bs","MWChatGroupHeader.bs","MWChatGroupMessageRequestHeader.bs","MWChatLoadingHeader.bs","MWChatPageHeader.bs","MWChatTabBannerUpsellContainer.react","MWChatTabContent.bs","MWChatTabFocusHandler.bs","MWChatUserHeader.bs","MWChatUserMessageRequestHeader.bs","MWUISendTypingIndicator.bs","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("JSResource")("MWChatAddParticipantsHeader.bs").__setRef("MWChatTab.bs");function k(a,c,d,e,f){f={dispatch:c,isTabFocused:d,participants:e};a!==void 0&&(f.backgroundColor=b("bs_caml_option").valFromOption(a));return f}function l(a){return i.createElement(b("BootloaderResource").read(j).make,a)}c={reasonResource:j,makeProps:k,make:l};var m={root:{height:"datstx6m",display:"j83agx80",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",isolation:"fbhpx0h9"},header:{flexShrink:"pfnyh3mw",position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function a(a){var c=a.id,d=a.items,e=a.hasMoreMessages,f=a.header,g=a.otherUserFbid,j=a.rtcButtonDisplayState,n=a.showSettings,o=a.isActiveNow,p=a.unreadCount,q=a.isBlocked,r=a.isMuted,s=a.isViewerInGroup,t=a.isTabFocused,u=a.isScrolledToBottomRef,v=a.initialComposerViewState,w=a.scrollerRef,x=a.sheet,y=a.managePageMessagesLink,z=a.shouldShowMenu,A=a.composerType,B=a.dispatch,C=a.closeTab,D=a.minimizeTab,E=a.clickHeader,F=a.endFirstChatTabOpenLoggerRef,G=a.hasContent,H=a.participants,I=a.pageVerificationBadge,J=a.reportingToken,K=a.repliedToMessage,L=a.isEmptyThread,M=a.openPageURL,N=a.showConnectionStatus,O=a.ongoingCallType,P=a.buildSharedMediaViewerURL,Q=a.messageRequestInfoText,R=a.closeReplyPreview;a=a.onSendMessage;x=x!==void 0?b("bs_caml_option").valFromOption(x):null;N=N!==void 0?N:!0;p=!t&&p>0;var S=b("bs_curry")._1(b("MWUISendTypingIndicator.bs").useHook,void 0),T;if(typeof f==="number")T=f===0?i.jsx(l,k(void 0,B,t,H,void 0)):i.jsx(b("MWChatLoadingHeader.bs").make,{closeTab:C,minimizeTab:D,clickHeader:E,isTabFocused:t});else switch(f.TAG|0){case 0:T=i.jsx(b("MWChatUserHeader.bs").make,{id:c,header:f._0,rtcButtonDisplayState:j,showSettings:n,isActiveNow:o,highlightHeader:p,isBlocked:q,isMuted:r,isTabFocused:t,dispatch:B,closeTab:C,minimizeTab:D,clickHeader:E,pageVerificationBadge:I,reportingToken:J,isEmptyThread:L});break;case 1:T=i.jsx(b("MWChatUserMessageRequestHeader.bs").make,{id:c,header:f._0,showSettings:n,isActiveNow:o,highlightHeader:p,isBlocked:q,isMuted:r,isTabFocused:t,dispatch:B,closeTab:C,minimizeTab:D,clickHeader:E,pageVerificationBadge:I,reportingToken:J,isEmptyThread:L});break;case 2:T=i.jsx(b("MWChatPageHeader.bs").make,{id:c,header:f._0,rtcButtonDisplayState:j,showSettings:n,isActiveNow:o,highlightHeader:p,isBlocked:q,isMuted:r,isTabFocused:t,dispatch:B,closeTab:C,minimizeTab:D,clickHeader:E,participants:H,pageVerificationBadge:I,reportingToken:J,isEmptyThread:L,openPageURL:M});break;case 3:T=i.jsx(b("MWChatGroupHeader.bs").make,{id:c,header:f._0,rtcButtonDisplayState:j,showSettings:n,isActiveNow:o,highlightHeader:p,isBlocked:q,isMuted:r,isViewerInGroup:s,isTabFocused:t,dispatch:B,closeTab:C,minimizeTab:D,clickHeader:E,reportingToken:J,isEmptyThread:L,ongoingCallType:O});break;case 4:T=i.jsx(b("MWChatGroupMessageRequestHeader.bs").make,{id:c,header:f._0,showSettings:n,isActiveNow:o,highlightHeader:p,isBlocked:q,isMuted:r,isViewerInGroup:s,isTabFocused:t,dispatch:B,closeTab:C,minimizeTab:D,clickHeader:E,reportingToken:J,isEmptyThread:L});break}H={id:c,items:d,hasMoreMessages:e,otherUserFbid:g,isTabFocused:t,isScrolledToBottomRef:u,scrollerRef:w,shouldShowMenu:z,composerType:A,dispatch:function(a){return B(a)},closeTab:C,endFirstChatTabOpenLoggerRef:F,managePageMessagesLink:y,hasContent:G,repliedToMessage:K,buildSharedMediaViewerURL:P,sendTypingIndicator:S,closeReplyPreview:R,onSendMessage:a};v!==void 0&&(H.initialComposerViewState=b("bs_caml_option").valFromOption(v));Q!==void 0&&(H.messageRequestInfoText=b("bs_caml_option").valFromOption(Q));return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(C,void 0)},onFocus:function(a){return B("MarkTabFocused")},onBlur:function(a){if(t)return B("MarkTabBlur")},children:i.jsxs("div",{children:[i.jsx("div",{children:T,className:(h||(h=b("stylex")))(m.header)}),i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:i.jsx(b("MWChatTabBannerUpsellContainer.react"),{})}),N?i.jsx(b("MWChatConnectionStatusCard.bs").make,{}):null,x,i.jsx(b("MWChatTabContent.bs").make,H)],className:h(m.root)})})})}d=a;f.LazyMWChatAddParticipantsHeader=c;f.styles=m;f.make=d}),null);
__d("MWChatTabGroupWarningPolicy.bs",["CurrentUser","FBID.bs","JSResource","MWThread_DEPRECATED.bs","MWUIBlockStatus.bs","MWUICurrentThreadParticipants.bs","bs_belt_Set","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:b("bs_belt_Set").make(b("FBID.bs"))};function a(a){return a.has(b("CurrentUser").getID())}function j(a){return Array.from(a.keys()).sort().join(":")}function c(a,c,d){var e=b("bs_curry")._1(b("MWUICurrentThreadParticipants.bs").useParticipants,void 0);c=j(e);var f=b("MWThread_DEPRECATED.bs").useIdExn(void 0),g=b("bs_curry")._1(b("MWUIBlockStatus.bs").useBlockeesInThread,f),k=h.useState(function(){return!1}),l=k[1],m=k[0];k=b("useCometLazyDialog")(b("JSResource")("MWChatGroupEntranceWarningForJSResource.react").__setRef("MWChatTabGroupWarningPolicy.bs"));var n=k[0],o=function(a){if(typeof f==="string"||f.NAME!=="Group")return;else{i.contents=b("bs_belt_Set").add(i.contents,f.VAL);return b("bs_curry")._1(d,void 0)}};h.useEffect(function(){if(typeof f!=="string"&&f.NAME==="Group"){var c=f.VAL;!m&&!b("bs_belt_Set").has(i.contents,c)&&e.has(b("CurrentUser").getID())&&g.length>0&&(n({blockeeIDs:g,onLeaveGroup:a,onOptIn:o,onClose:function(a){return b("bs_curry")._1(l,function(a){return!1})},threadFbid:c},function(a){return b("bs_curry")._1(l,function(a){return!1})}),b("bs_curry")._1(l,function(a){return!0}))}},[f,c])}f.optedInThreads=i;f.viewerInThread=a;f.hashParticipants=j;f.useGroupEntranceWarningEffect=c}),null);
__d("MWUICannotReplyReason.bs",["cr:1843681"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1843681").useCannotReplyReason;f.$MWLSCannotReplyReason$OR$MWMSCannotReplyReason$requireCond=b("cr:1843681");f.useCannotReplyReason=a}),null);
__d("MWUIContactCapabilities.bs",["cr:1500017"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1500017").useCapabilities;c=b("cr:1500017").isVerified;f.$MWLSContactCapabilities$OR$MWMSContactCapabilities$requireCond=b("cr:1500017");f.useCapabilities=a;f.isVerified=c}),null);
__d("MWUIFetchMessagesPage.bs",["cr:1435663"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1435663").useFetchMessagesPage;f.$MWLSFetchMessagesPage$OR$MWMSFetchMessagesPage$requireCond=b("cr:1435663");f.useFetchMessagesPage=a}),null);
__d("MWUILoadIsDisabledComposerThreadLevel.bs",["cr:1633761"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1633761").useHook;f.$MWLSLoadIsDisabledComposerThreadLevel$OR$MWMSLoadIsDisabledComposerThreadLevel$requireCond=b("cr:1633761");f.useHook=a}),null);
__d("MWUIPresenceIsThreadActive.bs",["cr:1470398"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1470398").useHook;f.useHook=a}),null);
__d("MWUIThreadHasLeftGroup.bs",["cr:1549237"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549237").useHook;f.$MWLSThreadHasLeftGroup$OR$MWMSThreadHasLeftGroup$requireCond=b("cr:1549237");f.useHook=a}),null);
__d("MWUIThreadHasMoreMessages.bs",["cr:1457206"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1457206").useThreadHasMoreMessages;f.$MWLSThreadHasMoreMessages$OR$MWMSThreadHasMoreMessages$requireCond=b("cr:1457206");f.useThreadHasMoreMessages=a}),null);
__d("MWUIThreadHasThread.bs",["cr:1549238"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549238").useHook;f.$MWLSThreadHasThread$OR$MWMSThreadHasThread$requireCond=b("cr:1549238");f.useHook=a}),null);
__d("MWUIThreadName.bs",["cr:1549086"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549086").useHook;f.$MWLSThreadName$OR$MWMSThreadName$requireCond=b("cr:1549086");f.useHook=a}),null);
__d("MWUIThreadReportingToken.bs",["cr:1549241"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549241").useHook;f.$MWLSThreadReportingToken$OR$MWMSThreadReportingToken$requireCond=b("cr:1549241");f.useHook=a}),null);
__d("MWUIWebUrlCtaHandler.bs",["cr:1503224"],(function(a,b,c,d,e,f){"use strict";b("cr:1503224");a=b("cr:1503224").useShowWebViewDialog;f.$MWLSWebUrlCtaHandler$OR$MWMSWebUrlCtaHandler$requireCond=b("cr:1503224");f.useShowWebViewDialog=a}),null);
__d("MWChatTabContainer.bs",["fbt","CometLazyDialogTrigger.react","CometLink.react","CometTransientDialogProvider.react","CurrentUser","JSResource","LSMailboxMessagesRangeQueryDirection.bs","MWChatBlockMessagesMutation","MWChatBlurTab.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatCloseTab.bs","MWChatCollapseTab.bs","MWChatComposerMessageRequestInfoText.bs","MWChatComposerViewStateStore.bs","MWChatConfirmTabCloseDialog.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatFocusTab.bs","MWChatHasTabContent.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatOpenTab.bs","MWChatPollXMAActionHandler.bs","MWChatTabContainerShared.bs","MWChatTabGroupWarningPolicy.bs","MWChatThreadId.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSFeatureLimitedStatus.bs","MWLSThreadLastReadWatermarkTimestamp.bs","MWTheme.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIAddParticipantsToGroup.bs","MWUIBlockStatus.bs","MWUICannotReplyReason.bs","MWUIChatThreadHook.bs","MWUIContactCapabilities.bs","MWUICurrentThreadParticipants.bs","MWUIFetchMessagesPage.bs","MWUIGetServerMessageID.bs","MWUIInThreadBanner.bs","MWUILeaveGroup.bs","MWUILoadIsDisabledComposerThreadLevel.bs","MWUILoadThreadMessages.bs","MWUILoadThreadPicture.bs","MWUILoadThreadTitle.bs","MWUIMarkThreadAsRead.bs","MWUIPresenceIsThreadActive.bs","MWUIRTCDisplayStatus.bs","MWUIRepliedToMessage.bs","MWUIStartPhoneCall.bs","MWUITheme.bs","MWUIThreadHasLeftGroup.bs","MWUIThreadHasMoreMessages.bs","MWUIThreadHasThread.bs","MWUIThreadIsMessageRequest.bs","MWUIThreadMuteExpireTimeMs.bs","MWUIThreadName.bs","MWUIThreadProfileLink.bs","MWUIThreadReportingToken.bs","MWUIThreadUnreadMessageCount.bs","MWUIWebUrlCtaHandler.bs","MercuryIDs","MessengerThreadCannotReplyReason","MessengerWebEntryPoint","MessengerWebEvent","MessengerWebStgTypedLoggerLite.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","UserActivity","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","ZenonUserActionLogger","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_js_dict","bs_js_null_undefined","cr:1617847","cr:1859633","gkx","qex","react","recoverableViolation","stylex","unrecoverableViolation","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function a(a){var c=a.isTabFocused,d=a.hasContent,e=a.isMultitab,f=a.useSidebarChatStyles,h=a.mid;a=a.isMainRegion;e=e!==void 0?e:!1;a=a!==void 0?a:!1;var k=j.useRef(!1),l=b("bs_curry")._1(b("MWUIMarkThreadAsRead.bs").useHook,void 0),m=b("bs_curry")._1(b("MWUIThreadReportingToken.bs").useHook,void 0),n=b("bs_curry")._1(b("MWUIThreadHasThread.bs").useHook,void 0),o=b("bs_curry")._1(b("MWUIThreadHasLeftGroup.bs").useHook,void 0),p=b("bs_curry")._1(b("MWUIThreadUnreadMessageCount.bs").useHook,void 0),aa=b("MWLSThreadLastReadWatermarkTimestamp.bs").useHook(void 0),q=b("bs_curry")._1(b("MWUIThreadMuteExpireTimeMs.bs").useHook,void 0);q=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(q);var r=j.useState(function(){return p}),ba=r[1],s=j.useState(function(){return aa}),ca=s[1],t=b("bs_curry")._1(b("MWUIThreadName.bs").useHook,void 0),u=b("bs_curry")._1(b("MWUIStartPhoneCall.bs").useMakeRTCCall,void 0),v=u[0],da=b("bs_curry")._1(b("MWUIAddParticipantsToGroup.bs").useHook,void 0),w=j.useState(function(){return!1}),ea=w[1],x=b("bs_curry")._1(b("MWUICannotReplyReason.bs").useCannotReplyReason,void 0);j.useEffect(function(){c&&p>0&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&b("bs_curry")._1(l,void 0)},[c,p,l]);var y=b("MWThread_DEPRECATED.bs").useIdExn(void 0),z;if(typeof y==="string")z=void 0;else{var A=y.NAME;z=A==="User"||A==="Page"?b("bs_caml_option").some(y.VAL):void 0}A=b("MWChatComposerViewStateStore.bs").getScrollPos(y);var B=A!==void 0?A:0,C=j.useRef(B),D=j.useRef(null);j.useEffect(function(){b("MWChatComposerViewStateStore.bs").setScrollPos(y,B);return function(c){c=C.current;var a=b("MWChatComposerViewStateStore.bs").getScrollPos(y);if(a!==void 0)return b("MWChatComposerViewStateStore.bs").setScrollPos(y,c)}},[]);b("MWChatComposerViewStateStore.bs").useClearComposerViewStateOnMount(y);var E=b("SkytaleDBHook.bs").useHook(void 0),F=b("MWThreadKey.bs").useIdMemoizedExn(void 0);A=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(E,"threads").asc,{hd:F,tl:0})},[E,F]));s=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(void 0,a,B,b("bs_curry")._3(b("MWUILoadThreadMessages.bs").useMessageItems,b("gkx")("1675204")?s[0]:void 0,b("gkx")("1675204")?r[0]:0,A),b("bs_curry")._1(b("MWUIFetchMessagesPage.bs").useFetchMessagesPage,void 0),b("bs_curry")._1(b("MWUIThreadHasMoreMessages.bs").useThreadHasMoreMessages,void 0));r=s[2];var fa=s[1];s=[{NAME:"Messages",VAL:s[0]}];b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,y);var G=b("bs_curry")._1(b("MWUICurrentThreadParticipants.bs").useMercuryParticipants,void 0);G=G[0];var H=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,void 0),I=b("bs_curry")._1(b("MWUIRepliedToMessage.bs").useCurrentlyRepliedToMessage,void 0),ga=I[2],ha=I[1];I=I[0];var ia=b("bs_curry")._1(b("MWUITheme.bs").useTheme,void 0),ja=function(a,c){c=a!==void 0?a:!1;a=C.current;if(typeof a==="number")if(a===0&&c)return b("bs_curry")._1(fa,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;else if(a.TAG)return;else return b("bs_curry")._1(fa,b("LSMailboxMessagesRangeQueryDirection.bs").before)},J=b("bs_curry")._1(b("MWUIBlockStatus.bs").useIsThreadBlocked,void 0),ka=typeof y==="string"||y.NAME!=="Group"?!1:b("bs_js_dict").entries(G).some(function(a){return b("bs_caml_obj").caml_equal(a[1].id,b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()))}),K=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,void 0),L=b("bs_curry")._1(b("MWUILoadThreadTitle.bs").useHook,void 0);L=L[0];var M=b("bs_curry")._1(b("MWUIThreadIsMessageRequest.bs").useHook,void 0),N=b("bs_curry")._1(b("MWUIThreadProfileLink.bs").useHook,void 0),O=y.NAME;if(O==="Group")if(w[0])w=0;else if(L!==void 0&&K.length>0){var P=b("bs_belt_Option").getWithDefault(t,"");P={title:L,rawTitle:P,profileImages:K};w=M?{TAG:4,_0:P}:{TAG:3,_0:P}}else w=1;else if(O==="Page")w=L!==void 0&&K.length>0?{TAG:2,_0:{title:L,rawTitle:b("bs_belt_Option").getWithDefault(t,""),actorID:y.VAL,href:N,profileImage:b("bs_caml_array").get(K,0)}}:1;else if(L!==void 0&&K.length>0){P=b("bs_belt_Option").getWithDefault(t,"");O=y.VAL;t=b("bs_caml_array").get(K,0);K={title:L,rawTitle:P,actorID:O,href:N,profileImage:t};w=M?{TAG:1,_0:K}:{TAG:0,_0:K}}else w=1;if(n){if(s.length!==1)P=!1;else{O=s[0];P=O.VAL.length!==0?!1:!r}typeof y==="string"?N=[!0,P]:N=[!0,P]}else N=[!1,!0];t=b("bs_curry")._1(b("MWUIRTCDisplayStatus.bs").useHook,void 0);K=A!==void 0?A.J:!1;n=b("bs_curry")._1(b("MWUILoadIsDisabledComposerThreadLevel.bs").useHook,y);O=A!==void 0?A.K:!1;P=b("gkx")("1277703");x=x!==void 0?[x===b("MessengerThreadCannotReplyReason").RECIPIENTS_INACTIVE_WORK_ACC,x===b("MessengerThreadCannotReplyReason").WORK_GARDEN_ARCHIVED]:[!1,!1];var Q=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0),R=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("SkytaleDB").table(E,"thread_nullstate_ctas").index("threadKeyCtaId").asc,{hd:F,tl:0})},[E,JSON.stringify(F)]));A=A!==void 0?b("bs_caml_int64").neq(A.i,b("bs_caml_int64").zero):!0;var S;if(J!==void 0){var T=0;if(Q)S=9;else if(typeof y==="string")T=1;else{Q=y.NAME;if(Q==="Group")o?S=3:x[1]?S=6:T=1;else if(Q==="Page"){o=n!==void 0?n:O;n=0;P&&J?S={TAG:1,otherUserFbid:y.VAL,reportingToken:m}:n=2;if(n===2)if(R!==void 0){O=R.e;S=O!==void 0?A?0:{TAG:2,nullStateCTA:{action_title:"",id:""},pageName:L}:o===!0?2:0}else S=o||o===!0?2:0}else Q==="User"?J?S={TAG:0,otherUserFbid:y.VAL,reportingToken:m}:x[0]?S=5:T=1:T=1}T===1&&(S=M&&b("gkx")("1217157")?4:typeof y==="string"||y.NAME!=="User"?0:b("gkx")("1775407")?7:1)}else S=8;var la=b("MWChatHasTabContent.bs").useHook(void 0),U=b("MWChatCloseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),V=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),ma=b("MWChatOpenTab.bs").useHook_DEPRECATED(b("MessengerWebEntryPoint").UNKNOWN),na=b("MWChatFocusTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),oa=b("MWChatBlurTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN);P=b("useCometConfirmationDialog")();var pa=P[0],qa=b("bs_curry")._1(b("MWUILeaveGroup.bs").useHook,void 0),ra=function(a){typeof y==="string"||y.NAME!=="Group"?b("recoverableViolation")("Trying to leave non-group thread","messenger_comet"):b("bs_curry")._2(qa,y.VAL,a);return b("bs_curry")._1(U,y)};b("MWChatTabGroupWarningPolicy.bs").useGroupEntranceWarningEffect(ra,function(a){return b("bs_curry")._1(U,y)},function(a){return b("bs_curry")._1(ma,y)});var sa=function(a){a=D.current;if(!(a==null))return a.scrollToBottom()},ta=b("MWChatXmaThirdPartyActionHandler.bs").useHandler("chatInThread"),ua=b("MWChatPollXMAActionHandler.bs").useHandler(void 0),va=b("bs_curry")._1(b("MWUIWebUrlCtaHandler.bs").useShowWebViewDialog,void 0);b("MWChatEphemeralMediaTemporarySeenState.bs").useEndSessionOnDismount(b("MWChatThreadId.bs").getFBID(y));var W=y.VAL,wa=function(a){if(p>0&&C.current===0)return b("bs_curry")._1(l,void 0)};n=function(a){b("bs_curry")._1(l,void 0);sa(void 0);b("bs_curry")._1(ba,function(a){return 0});return b("bs_curry")._1(ca,function(a){})};R=j.useCallback(function(a){if(b("bs_curry")._1(la,y))return b("bs_curry")._3(pa,b("MWChatConfirmTabCloseDialog.bs").content,function(a){return b("bs_curry")._1(U,y)},function(a){});else return b("bs_curry")._1(U,y)},[y,la,pa,U]);O=j.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","minimize");a=typeof y==="string"||y.NAME!=="Group"?null:y.VAL;b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").MINIMIZE_CHAT_TAB,other_user_fbid:b("bs_js_null_undefined").fromOption(z),thread_fbid:a});return b("bs_curry")._1(V,y)},[y,V]);A=j.useCallback(function(a){return b("bs_curry")._1(V,y)},[V,y]);o=function(d){if(typeof d==="string"){if(d==="ScrollToBottom")return wa(void 0);if(d==="OpenTabFromPreview")return;if(d==="ClickAudio"){if(typeof y==="string")return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");var c=y.NAME;if(c==="User"||c==="Page"||c==="Group"){b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"messenger_header")});return b("bs_curry")._3(v,!1,y.VAL,"comet_chattab_audio_button")}else return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet")}if(d==="ContentDoesNotFillContainer")return ja(!0,void 0);if(d==="ToggleAddParticipants")return b("bs_curry")._1(ea,function(a){return!a});if(d!=="ClickVideo")if(d==="MarkTabBlur")return b("bs_curry")._1(oa,y);else if(d==="MarkTabFocused"){wa(void 0);return b("bs_curry")._1(na,y)}else return ja(void 0,void 0);if(typeof y==="string")return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");c=y.NAME;if(c==="User"||c==="Page"||c==="Group"){b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"messenger_header")});return b("bs_curry")._3(v,!0,y.VAL,"comet_chattab_video_button")}else return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet")}c=d.NAME;if(c==="ShowWebViewDialog")return b("bs_curry")._1(va,d.VAL);if(c==="ClickReplyTo"){b("ODS").bumpEntityKey(3185,"mwchat_send","reply");return b("bs_curry")._1(ha,d.VAL)}if(c==="ShowPollDetails"){var a=d.VAL;return b("bs_curry")._2(ua,a[0],a[1])}if(c==="AddParticipants"){b("bs_curry")._1(ea,function(a){return!a});return b("bs_curry")._1(da,d.VAL)}if(c==="ScrollToElement"){a=d.VAL;var e=a[0];a=a[1];var f=D.current;if(!(f==null))return f.scrollToElement(e,a);else return}if(c!=="UpdateBlock")if(c==="LeaveGroup"){b("ODS").bumpEntityKey(3185,"mwchat_settings","leave_group");return ra(d.VAL)}else return b("bs_curry")._1(ta,d);f=d.VAL;e=f[1];if(y.NAME==="Group")return b("unrecoverableViolation")("Can't block a group or local thread","messenger_comet");a=y.VAL;f[0]?b("MWChatBlockMessagesMutation").commitBlock(a,e,function(a){}):b("MWChatBlockMessagesMutation").commitUnblock(a,e,function(a){})};Q=j.jsx(b("MWUIInThreadBanner.bs").make,{});x=typeof y==="string"||y.NAME!=="Page"?null:j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBusinessManageMessagesDialogForJSResource.react").__setRef("MWChatTabContainer.bs"),dialogProps:{id:y.VAL,onClose:function(a){},dispatch:o},children:function(a,c){return j.jsx(b("CometLink.react"),{role:"button",style:{display:"block",fontWeight:"bold",paddingLeft:"4px"},children:g._("Manage messages"),ref:c,onClick:function(c){return b("bs_curry")._1(a,void 0)}})}});T=b("bs_curry")._1(b("MWUIContactCapabilities.bs").useCapabilities,b("bs_caml_format").caml_int64_of_string(W));M=b("bs_curry")._1(b("MWUIContactCapabilities.bs").isVerified,T)?"BLUE_VERIFIED":void 0;P=typeof w==="number"||w.TAG!==2?void 0:w._0.href;T=function(c,d){var a=b("bs_curry")._1(b("MWUIGetServerMessageID.bs").getServerMessageID,c.message_id);if(d)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:c.photo_ids,fbid:c.fbid,message_id:a});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:W,attachment_id:c.fbid,message_id:a})};var X=j.useState(function(){}),Y=X[1];X=X[0];var xa=j.useCallback(function(a){return b("bs_curry")._1(Y,function(a){})},[Y]),ya=j.useCallback(function(a){return b("bs_curry")._1(Y,function(b){return a})},[Y]),Z=b("qex")._("1586110");Z=Z==null?{}:{fontSize:String(Z)+"px"};var $;if(b("cr:1859633")==null)if(b("cr:1617847")==null)$=null;else{w={id:y,items:s,hasMoreMessages:r,header:w,otherUserFbid:z,rtcButtonDisplayState:t,showSettings:N[0],isActiveNow:H,unreadCount:p,isBlocked:J,isMuted:q,isViewerInGroup:ka,isTabFocused:c,isScrolledToBottomRef:C,scrollerRef:D,sheet:Q,managePageMessagesLink:x,shouldShowMenu:K,composerType:S,dispatch:o,closeTab:R,minimizeTab:O,clickHeader:A,endFirstChatTabOpenLoggerRef:k,hasContent:d,participants:G,pageVerificationBadge:M,reportingToken:m,repliedToMessage:I,isEmptyThread:N[1],openPageURL:P,buildSharedMediaViewerURL:T,messageRequestInfoText:j.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:U}),closeReplyPreview:ga,onSendMessage:n};t=b("MWChatComposerViewStateStore.bs").get(y);t!==void 0&&(w.initialComposerViewState=b("bs_caml_option").valFromOption(t));H=u[1];H!==void 0&&(w.ongoingCallType=b("bs_caml_option").valFromOption(H));$=j.jsx(b("cr:1617847").make,w)}else $=j.jsx(b("cr:1859633").make,{items:s,hasMoreMessages:r,id:y,otherUserFbid:z,isTabFocused:c,isScrolledToBottomRef:C,initialComposerViewState:b("MWChatComposerViewStateStore.bs").get(y),scrollerRef:D,sheet:Q,managePageMessagesLink:x,shouldShowMenu:K,composerType:S,dispatch:o,closeTab:R,endFirstChatTabOpenLoggerRef:k,hasContent:d,participants:G,repliedToMessage:I,buildSharedMediaViewerURL:T,closeReplyPreview:ga,onSendMessage:n,mid:h});J={children:$,key:W,"aria-label":b("bs_belt_Option").mapWithDefault(L,g._("Loading conversation"),function(a){return g._("Chat with {thread_title}",[g._param("thread_title",a)])}),className:(i||(i=b("stylex")))(b("cr:1859633")==null?b("MWChatTabContainerShared.bs").styles.chatTab:b("MWChatTabContainerShared.bs").styles.workChatTab,f?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,e?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,b("qex")._("1586109")?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),role:a?"main":"region",style:Z};return j.jsx(b("MWTheme.bs").provider,{theme:X!==void 0?X:ia,setTheme:ya,clearTheme:xa,children:j.jsx(b("CometTransientDialogProvider.react"),{children:j.jsx("div",(J["data-testid"]="mwchat-tab",J))})})}c=j.memo(a);f.make=c}),null);
__d("MWChatTabContainerCommon.bs",["cr:1663108"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1663108").make;f.$MWChatTabContainer$OR$MWChatTabContainer_DEPRECATED$requireCond=b("cr:1663108");f.make=a}),null);
__d("MWLSLoadIsDisabledComposerThreadLevel.bs",["MWThread_DEPRECATED.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0);return b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:b("MWThread_DEPRECATED.bs").toThreadKey(a),tl:0}),function(a){return a.K})},[JSON.stringify(a),c]))}f.useHook=a}),null);
__d("MWLSActorHovercardContact.bs",["MWLSActor.bs","MWThread_DEPRECATED.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_caml_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0);a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var e=b("MWThread_DEPRECATED.bs").toThreadKey(a);return b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.mergeJoin(a.getKeyRange(b("SkytaleDB").table(c,"participants").asc,{hd:e,tl:0}),b("SkytaleDB").table(c,"contacts").asc),function(a){return b("bs_caml_int64").neq(a[1].a,d)}),function(a){return a[1]})},[c,JSON.stringify(e),JSON.stringify(d)]))}f.useContact=a}),null);
__d("MWLSContactCapabilities.bs",["LSBitOffset.bs","LSContactCapabilityBitOffset.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"contacts").asc,{hd:a,tl:0}),function(a){return b("bs_belt_Option").getWithDefault(a.G,b("LSBitOffset.bs").empty)})},[JSON.stringify(a),c]);d=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(d);if(d!==void 0)return d;else return b("LSBitOffset.bs").empty}function c(a){return b("LSBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,a)}f.useCapabilities=a;f.isVerified=c}),null);
__d("MWLSThreadHasLeftGroup.bs",["MWThreadKey.bs","MessengerThreadCannotReplyReason","MessengerThreadCannotReplyReason.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option","bs_caml_obj","bs_js_null_undefined","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_caml_obj").caml_equal(b("MessengerThreadCannotReplyReason.bs").fromName(b("bs_js_null_undefined").fromOption(a.v)),b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED)})},[c,d])),!1)}f.useHook=a}),null);
__d("MWLSThreadHeaderAttribution.bs",["MWLSThreadCapabilities.bs","ReQL.bs","SkytaleDB","SkytaleDBExec.bs","SkytaleDBHook.bs","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0);c=b("SkytaleDBExec.bs").first(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"contacts").asc,{hd:b("bs_caml_format").caml_int64_of_string(a),tl:0}));if(c!==void 0){a=c.K;c=a!==void 0&&c.h!==a?a:void 0}else c=void 0;a=b("MWLSThreadCapabilities.bs").canDisplayActorTypeInThreadViewHeader(b("MWLSThreadCapabilities.bs").useCapabilities(void 0));if(a)return c}f.useHook=a}),null);
__d("MWLSThreadMuteExpireTimeMs.bs",["MWThreadKey.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option","bs_caml_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_caml_int64").to_float(a.l)})},[c,d])),0)}f.useHook=a}),null);
__d("MWLSThreadName.bs",["MWThreadKey.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return a.d})},[c,d]));if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);if(a!==void 0)return a}f.useHook=a}),null);
__d("MWLSCannotReplyReason.bs",["MWThreadKey.bs","ReQL.bs","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return a.v})},[c,d])),void 0)}f.useCannotReplyReason=a}),null);