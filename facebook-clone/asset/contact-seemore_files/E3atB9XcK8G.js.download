if (self.CavalryLogger) { CavalryLogger.start_js(["4+Tcq"]); }

__d("LSMailboxIssueMessagesRangeQueryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(13).getArrDesc([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&(b.i64.eq(c.b,void 0)||b.i64.le(c.b,a[1]))}).slice(0,b.i64.to_float(c(n()))).next().then(function(e,f){var n=e.done;e=e.value;return n?0:(f=e.item,d[4]=f.a,d[5]=c(m()),d[2]=f.b,d[3]=f.c,b.i64.eq(a[2],c(l()))?(n=[f.h&&!f.f],d[1]=n[0],n):(e=[f.i&&!f.g],d[1]=e[0],e),d[1]?b.seq([function(e){return b.i64.eq(a[2],c(k()))?b.seq([function(a){return b.db.table(13).getArr().filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(j()),d[5])&&b.i64.eq(a.b,d[2])&&a.c===d[3]}).forEach(function(a){var b=a.update;a.item;return b({f:!0})})},function(a){return a=[d[2],d[3]],d[7]=a[0],d[8]=a[1],a}]):b.seq([function(a){return b.db.table(13).getArr().filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(i()),d[5])&&b.i64.eq(a.b,d[2])&&a.c===d[3]}).forEach(function(a){var b=a.update;a.item;return b({g:!0})})},function(a){return a=[f.d,f.e],d[7]=a[0],d[8]=a[1],a}])},function(e){return e=[new b.Map()],d[9]=e[0],e,[d[9].set("thread_key",a[0])],[d[9].set("direction",a[2])],[d[9].set("reference_timestamp_ms",d[7])],[d[9].set("reference_message_id",d[8])],e=[d[9].get("thread_key"),d[9]],d[10]=e[0],e,e=[b.toJSON(d[9])],d[11]=e[0],e,b.sp("1","mrq.{}".split("{}").join(b.i64.to_string(d[10])),c(h()),d[11],void 0,void 0,c(g()),void 0)}]):b.resolve())})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxVerifyThreadRowExistsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.sp("128",a[0],a[1]==null?c(i()):a[1],"inbox",c(h()),c(g()))},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="4004090369655055"}),null);
__d("CancellationToken.bs",["bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";c=b("bs_caml_exceptions").create("CancellationToken.TokenCancelled");function a(a){var b={contents:!1};return{cancel:function(a){b.contents=!0},isCancelled:function(a){return b.contents}}}f.TokenCancelled=c;f.make=a}),null);
__d("CancellablePromise.bs",["CancellationToken.bs","Promise","bs_caml_exceptions","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("CancellablePromise.PromiseError");e=function(a){throw a};function a(a){var c={contents:!1},d=new window.Promise(function(d,e){var f=a.then(function(a){c.contents?e(0):d({_0:a})});b("promiseDone")(f,void 0,void 0)})["catch"](function(a){if(a)throw{RE_EXN_ID:g,_1:a,Error:new Error()};return b("Promise").resolve(0)}),e=function(a){c.contents=!0};return[e,d]}function c(a,c,d){return d.then(function(d){if(b("bs_curry")._1(a.isCancelled,void 0))return b("Promise").reject({RE_EXN_ID:b("CancellationToken.bs").TokenCancelled});else return b("bs_curry")._1(c,d)})}function d(a,c){return c["catch"](function(c){if(c.RE_EXN_ID===b("CancellationToken.bs").TokenCancelled)return b("Promise").resolve(a);else return b("Promise").reject(c)})}f.PromiseError=g;f.jsThrowError=e;f.make=a;f.then_=c;f.ignoreFailed=d}),null);