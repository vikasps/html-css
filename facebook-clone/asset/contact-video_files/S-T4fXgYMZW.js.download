if (self.CavalryLogger) { CavalryLogger.start_js(["hUEtl"]); }

__d("ProfileCometActionFollowHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"ProfileCometActionFollowHandler_handler$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_location",storageKey:null},a],storageKey:null}]}}();e.exports=a}),null);
__d("ProfileCometActionFollowHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometActionFollowHandler_handler",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_location",storageKey:null}],storageKey:null}],type:"ProfileActionFollowHandler",abstractKey:null};e.exports=a}),null);
__d("ProfileCometActionFollowHandler.react",["CometRelay","CometUserFollowMutation","CometUserUnfollowMutation","ProfileCometActionFollowHandler_handler.graphql","ProfilePlusFollowChainingContext.react","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c,d=i.useState(!1),e=d[0],f=d[1],h=b("CometRelay").useRelayEnvironment();d=b("CometRelay").useFragment(g!==void 0?g:g=b("ProfileCometActionFollowHandler_handler.graphql"),a.handler);var j=((c=d.profile_action)==null?void 0:(c=c.profile_owner)==null?void 0:c.id)||"";c=a.children;var k=(a=d.profile_action)==null?void 0:(a=a.profile_owner)==null?void 0:a.subscribe_status,l=((a=d.profile_action)==null?void 0:a.render_location)||"WWW_COMET_FRIEND_MENU";d=i.useContext(b("ProfilePlusFollowChainingContext.react").ProfilePlusFollowChainingContext);var m=d.setShouldShowFollowChaining;a=i.useCallback(function(){f(!0);var a={actionRenderLocation:l,onError:function(){f(!1)},onSuccess:function(){f(!1)},subscribeLocation:"PROFILE",userID:j};k==="CAN_SUBSCRIBE"?(b("CometUserFollowMutation").commit(h,babelHelpers["extends"]({},a)),m(!0)):k==="IS_SUBSCRIBED"&&b("CometUserUnfollowMutation").commit(h,a)},[h,j,k,l,m]);if(k==="CANNOT_SUBSCRIBE"){b("recoverableViolation")("Rendering follow action for user that cannot be followed","profile_comet");return c({disabled:!0})}return c({disabled:e,onPress:a})}}),null);